/*! For license information please see main.c7a055b2.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,F=Object.assign;function V(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function z(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case _:return"Profiler";case x:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,xe=null;function _e(e){if(e=ki(e)){if("function"!==typeof Ee)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),Ee(e.stateNode,e.type,t))}}function Ce(e){Se?xe?xe.push(e):xe=[e]:Se=e}function Te(){if(Se){var e=Se,t=xe;if(xe=Se=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ie(e,t){return e(t)}function Ae(){}var Ne=!1;function De(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ie(e,t,n)}finally{Ne=!1,(null!==Se||null!==xe)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(c)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ce){Oe=!1}function Re(e,t,n,r,i,a,o,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Me=!1,Fe=null,Ve=!1,Ue=null,je={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Re.apply(je,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Qe=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,St,xt,_t,Ct=!1,Tt=[],It=null,At=null,Nt=null,Dt=new Map,Pt=new Map,Ot=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void _t(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Vt(e)&&n.delete(t)}function jt(){Ct=!1,null!==It&&Vt(It)&&(It=null),null!==At&&Vt(At)&&(At=null),null!==Nt&&Vt(Nt)&&(Nt=null),Dt.forEach(Ut),Pt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==At&&zt(At,e),null!==Nt&&zt(Nt,e),Dt.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Qt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Qt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Qt(e,t,n,r){if(Ht){var i=$t(e,t,n,r);if(null===i)Hr(e,t,r,Gt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Hr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Gt=null;function $t(e,t,n,r){if(Gt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=F({},ln,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),yn=an(F({},fn,{relatedTarget:0})),mn=an(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function _n(){return xn}var Cn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Cn),In=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Nn=an(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Dn),On=[9,13,27,32],Ln=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var Mn=c&&"TextEvent"in window&&!Rn,Fn=c&&(!Ln||Rn&&8<Rn&&11>=Rn),Vn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ce(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Qn=null;function Gn(e){Vr(e,0)}function $n(e){if(Q(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Qn=Wn=null)}function nr(e){if("value"===e.propertyName&&$n(Qn)){var t=[];Kn(t,Qn,e,we(e)),De(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Qn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==G(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Wr(mr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},xr={};function _r(e){if(Sr[e])return Sr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return Sr[e]=n[t];return e}c&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Cr=_r("animationend"),Tr=_r("animationiteration"),Ir=_r("animationstart"),Ar=_r("transitionend"),Nr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),s(t,[e])}for(var Or=0;Or<Dr.length;Or++){var Lr=Dr[Or];Pr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Pr(Cr,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Ir,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,l){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=Fe;Me=!1,Fe=null,Ve||(Ve=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,l),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,l=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,l),a=s}}}if(Ve)throw e=Ue,Ve=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,jr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Kt;break;case 4:i=Wt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}De((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":l="focus",s=yn;break;case"focusout":l="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Cr:case Tr:case Ir:s=mn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=In}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==u?u+"Capture":null:u;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&c.push(Kr(p,v,d)))),f)break;p=p.return}0<c.length&&(u=new s(u,l,null,n,i),o.push({event:u,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(f=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==l?u:bi(l),(u=new c(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,s&&l)e:{for(h=l,p=0,d=c=s;d;d=Qr(d))p++;for(d=0,v=h;v;v=Qr(v))d++;for(;0<p-d;)c=Qr(c),p--;for(;0<d-p;)h=Qr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Qr(c),h=Qr(h)}c=null}else c=null;null!==s&&Gr(o,u,s,c,!1),null!==l&&null!==f&&Gr(o,f,l,c,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Xn;else if(Hn(u))if(Yn)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Kn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?bi(r):window,e){case"focusin":(Hn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Ln)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?jn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(m=Wr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Vn);case"textInput":return(e=t.data)===Vn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Ln&&jn(e,t)?(e=en(),Zt=Jt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Vr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,l=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==l&&(u=l,i?null!=(s=Pe(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var Ei=[],Si=-1;function xi(e){return{current:e}}function _i(e){0>Si||(e.current=Ei[Si],Ei[Si]=null,Si--)}function Ci(e,t){Si++,Ei[Si]=e.current,e.current=t}var Ti={},Ii=xi(Ti),Ai=xi(!1),Ni=Ti;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){_i(Ai),_i(Ii)}function Li(e,t,n){if(Ii.current!==Ti)throw Error(a(168));Ci(Ii,t),Ci(Ai,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ii.current,Ci(Ii,e),Ci(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ri(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,_i(Ai),_i(Ii),Ci(Ii,e)):_i(Ai),Ci(Ai,n)}var Vi=null,Ui=!1,ji=!1;function zi(e){null===Vi?Vi=[e]:Vi.push(e)}function Bi(){if(!ji&&null!==Vi){ji=!0;var e=0,t=kt;try{var n=Vi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,Ui=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),Qe(Ze,Bi),i}finally{kt=t,ji=!1}}return null}var qi=[],Hi=0,Ki=null,Wi=0,Qi=[],Gi=0,$i=null,Xi=1,Yi="";function Ji(e,t){qi[Hi++]=Wi,qi[Hi++]=Ki,Ki=e,Wi=t}function Zi(e,t,n){Qi[Gi++]=Xi,Qi[Gi++]=Yi,Qi[Gi++]=$i,$i=e;var r=Xi;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Xi=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Hi],qi[Hi]=null,Wi=qi[--Hi],qi[Hi]=null;for(;e===$i;)$i=Qi[--Gi],Qi[Gi]=null,Yi=Qi[--Gi],Qi[Gi]=null,Xi=Qi[--Gi],Qi[Gi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=li(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=xi(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function Ea(e){var t=ma.current;_i(ma),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function _a(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ca=null;function Ta(e){null===Ca?Ca=[e]:Ca.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function La(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&As)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function Ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,l=s.next;s.next=null,null===o?a=l:o.next=l,o=s;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===u?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,c=l=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(l=c=d,s=f):c=c.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(s=f),i.baseState=s,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function ja(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=La(e,a,i))&&(rl(t,e,i,r),Ra(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=La(e,a,i))&&(rl(t,e,i,r),Ra(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=La(e,i,r))&&(rl(t,e,r,n),Ra(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=_a(a):(i=Pi(t)?Ni:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=_a(a):(a=Pi(t)?Ni:Ii.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ll(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Vl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Ga(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Rl(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Vl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rl(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case E:return(t=Ul(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Ml(t,e.mode,n,null)).return=e,t;Qa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case E:return n.key===i?c(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:f(e,t,n,r,null);Qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return f(t,e=e.get(n)||null,r,i,null);Qa(t,r)}return null}function v(i,a,u,s){for(var l=null,c=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m,f=y}if(v===u.length)return n(i,f),ia&&Ji(i,v),l;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ia&&Ji(i,v),l}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),l}function y(i,u,s,l){var c=R(s);if("function"!==typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var f=c=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,l);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,y),null===f?c=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),ia&&Ji(i,y),c;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,l))&&(u=o(g,u,y),null===f?c=g:f.sibling=g,f=g);return ia&&Ji(i,y),c}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,y),c}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===S){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===P&&Ga(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Wa(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===S?((a=Ml(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Rl(o.type,o.key,o.props,null,r.mode,s)).ref=Wa(r,a,o),s.return=r,r=s)}return u(r);case E:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ul(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(c=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(R(o))return y(r,a,o,s);Qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Vl(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Xa=$a(!0),Ya=$a(!1),Ja={},Za=xi(Ja),eo=xi(Ja),to=xi(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ci(to,t),Ci(eo,e),Ci(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Za),Ci(Za,t)}function io(){_i(Za),_i(eo),_i(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ci(eo,e),Ci(Za,n))}function oo(e){eo.current===e&&(_i(Za),_i(eo))}var uo=xi(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,ko=!1,bo=0,wo=0;function Eo(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function xo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=lu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function _o(){var e=0!==bo;return bo=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function To(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Io(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,l=null,c=o;do{var f=c.lane;if((po&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(s=l=h,u=r):l=l.next=h,vo.lanes|=f,Fs|=f}c=c.next}while(null!==c&&c!==o);null===l?u=r:l.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ho(Ro.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,Uo(9,Lo.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Lo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Ro(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&rl(t,e,1,-1)}function Vo(e){var t=Co();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return To().memoizedState}function zo(e,t,n,r){var i=Co();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Wo(e,t){return Bo(4,4,e,t)}function Qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Qo.bind(null,t,e),n)}function $o(){}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ia(e,t,n,r))){rl(n,e,r,tl()),au(n,t,r)}}function nu(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ia(e,t,i,r))&&(rl(n,e,r,i=tl()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:_a,useCallback:Eo,useContext:Eo,useEffect:Eo,useImperativeHandle:Eo,useInsertionEffect:Eo,useLayoutEffect:Eo,useMemo:Eo,useReducer:Eo,useRef:Eo,useState:Eo,useDebugValue:Eo,useDeferredValue:Eo,useTransition:Eo,useMutableSource:Eo,useSyncExternalStore:Eo,useId:Eo,unstable_isNewReconciler:!1},uu={readContext:_a,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:_a,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Co();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:Vo,useDebugValue:$o,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=Vo(!1),t=e[0];return e=Zo.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Co();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Ro.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Lo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Co(),t=Ns.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:_a,useCallback:Xo,useContext:_a,useEffect:Ho,useImperativeHandle:Go,useInsertionEffect:Ko,useLayoutEffect:Wo,useMemo:Yo,useReducer:Ao,useRef:jo,useState:function(){return Ao(Io)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),yo.memoizedState,e)},useTransition:function(){return[Ao(Io)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},lu={readContext:_a,useCallback:Xo,useContext:_a,useEffect:Ho,useImperativeHandle:Go,useInsertionEffect:Ko,useLayoutEffect:Wo,useMemo:Yo,useReducer:No,useRef:jo,useState:function(){return No(Io)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===yo?t.memoizedState=e:Jo(t,yo.memoizedState,e)},useTransition:function(){return[No(Io)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function cu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Ws=r),hu(0,t)},n}function vu(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Qs?Qs=new Set([this]):Qs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cl.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,La(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Xa(t,e.child,n,r)}function Eu(e,t,n,r,i){n=n.render;var a=t.ref;return xa(t,i),r=xo(e,t,n,r,a,i),n=_o(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Su(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ol(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,xu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Ll(a,r)).ref=t.ref,e.return=t,t.child=e}function xu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function _u(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Ls,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Ls,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ci(Ls,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(Ls,Os),Os|=r;return wu(e,t,i,n),t.child}function Cu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ni:Ii.current;return a=Di(t,a),xa(t,i),n=xo(e,t,n,r,a,i),r=_o(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Iu(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(xa(t,i),null===t.stateNode)Hu(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=_a(l):l=Di(t,l=Pi(n)?Ni:Ii.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==l)&&Ha(t,o,r,l),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof c&&(ja(t,n,c,r),s=t.memoizedState),(u=Na||Ba(t,n,u,r,h,s,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=l,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:ya(t.type,u),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=_a(s):s=Di(t,s=Pi(n)?Ni:Ii.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ha(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(ja(t,n,d,r),p=t.memoizedState),(l=Na||Ba(t,n,l,r,h,p,s)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Cu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),ro(e,t.containerInfo)}function Du(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Ou,Lu,Ru,Mu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(uo,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fl(s,i,0,null),e=Ml(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Mu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fl({mode:"visible",children:r.children},i,0,null),(o=Ml(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rl(r,e,i,-1))}return yl(),ju(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Il.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Qi[Gi++]=Xi,Qi[Gi++]=Yi,Qi[Gi++]=$i,Xi=e.id,Yi=e.overflow,$i=t),t=Uu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ll(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Ll(r,u):(u=Ml(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Ll(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ll(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ll(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qu(t),null;case 1:case 17:return Pi(t.type)&&Oi(),Qu(t),null;case 3:return r=t.stateNode,io(),_i(Ai),_i(Ii),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ul(aa),aa=null))),Ou(e,t),Qu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Lu(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Qu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Ur(Rr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var l=o[s];"children"===s?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):u.hasOwnProperty(s)&&null!=l&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Ur(Rr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?ye(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Ur("scroll",e):null!=c&&k(e,o,c,s))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qu(t),null;case 6:if(e&&null!=t.stateNode)Ru(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Qu(t),null;case 13:if(_i(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qu(t),o=!1}else null!==aa&&(ul(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Rs&&(Rs=3):yl())),null!==t.updateQueue&&(t.flags|=4),Qu(t),null);case 4:return io(),Ou(e,t),null===e&&Br(t.stateNode.containerInfo),Qu(t),null;case 10:return Ea(t.type._context),Qu(t),null;case 19:if(_i(uo),null===(o=t.memoizedState))return Qu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>qs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Qu(t),null}else 2*Ye()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=uo.current,Ci(uo,r?1&n|2:1&n),t):(Qu(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Qu(t),6&t.subtreeFlags&&(t.flags|=8192)):Qu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $u(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),_i(Ai),_i(Ii),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(_i(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(uo),null;case 4:return io(),null;case 10:return Ea(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ou=function(){},Lu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(u.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(u.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Ur("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ru=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xu=!1,Yu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_l(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){_l(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Yu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){_l(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,ds(e,t,n),Yu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Al.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ys(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){_l(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ys(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(y){_l(e,e.return,y)}try{rs(5,e,e.return)}catch(y){_l(e,e.return,y)}}break;case 1:ys(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ys(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){_l(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(s,u);var c=ke(s,o);for(u=0;u<l.length;u+=2){var f=l[u],h=l[u+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,c)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){_l(e,e.return,y)}}break;case 6:if(ys(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){_l(e,e.return,y)}}break;case 3:if(ys(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(y){_l(e,e.return,y)}break;case 4:default:ys(t,e),gs(e);break;case 13:ys(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Ye())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(c=Yu)||f,ys(t,e),Yu=c):ys(t,e),gs(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){_l(r,n,y)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){Es(h);continue}}null!==p?(p.return=d,Zu=p):Es(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,s.style.display=ve("display",u))}catch(y){_l(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){_l(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ys(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ls(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){_l(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Zu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=Xu;var l=Yu;if(Xu=o,(Yu=s)&&!l)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?Ss(i):null!==s?(s.return=o,Zu=s):Ss(i);for(;null!==a;)Zu=a,bs(a,t,n),a=a.sibling;Zu=i,Xu=u,Yu=l}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Va(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&as(t)}catch(d){_l(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function Es(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function Ss(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){_l(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){_l(t,i,s)}}var a=t.return;try{as(t)}catch(s){_l(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){_l(t,o,s)}}}catch(s){_l(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var xs,_s=Math.ceil,Cs=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Is=b.ReactCurrentBatchConfig,As=0,Ns=null,Ds=null,Ps=0,Os=0,Ls=xi(0),Rs=0,Ms=null,Fs=0,Vs=0,Us=0,js=null,zs=null,Bs=0,qs=1/0,Hs=null,Ks=!1,Ws=null,Qs=null,Gs=!1,$s=null,Xs=0,Ys=0,Js=null,Zs=-1,el=0;function tl(){return 0!==(6&As)?Ye():-1!==Zs?Zs:Zs=Ye()}function nl(e){return 0===(1&e.mode)?1:0!==(2&As)&&0!==Ps?Ps&-Ps:null!==va.transition?(0===el&&(el=vt()),el):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rl(e,t,n,r){if(50<Ys)throw Ys=0,Js=null,Error(a(185));mt(e,n,r),0!==(2&As)&&e===Ns||(e===Ns&&(0===(2&As)&&(Vs|=n),4===Rs&&sl(e,Ps)),il(e,r),1===n&&0===As&&0===(1&t.mode)&&(qs=Ye()+500,Ui&&Bi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Ps:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(ll.bind(null,e)):zi(ll.bind(null,e)),oi((function(){0===(6&As)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nl(n,al.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function al(e,t){if(Zs=-1,el=0,0!==(6&As))throw Error(a(327));var n=e.callbackNode;if(Sl()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Ps:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=As;As|=2;var o=vl();for(Ns===e&&Ps===t||(Hs=null,qs=Ye()+500,dl(e,t));;)try{kl();break}catch(s){pl(e,s)}wa(),Cs.current=o,As=i,null!==Ds?t=0:(Ns=null,Ps=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Ms,dl(e,0),sl(e,r),il(e,Ye()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(o=pt(e))&&(r=o,t=ol(e,o))),1===t))throw n=Ms,dl(e,0),sl(e,r),il(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:El(e,zs,Hs);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=Bs+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(El.bind(null,e,zs,Hs),t);break}El(e,zs,Hs);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_s(r/1960))-r)){e.timeoutHandle=ri(El.bind(null,e,zs,Hs),r);break}El(e,zs,Hs);break;default:throw Error(a(329))}}}return il(e,Ye()),e.callbackNode===n?al.bind(null,e):null}function ol(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=zs,zs=n,null!==t&&ul(t)),e}function ul(e){null===zs?zs=e:zs.push.apply(zs,e)}function sl(e,t){for(t&=~Us,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&As))throw Error(a(327));Sl();var t=ht(e,0);if(0===(1&t))return il(e,Ye()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Ms,dl(e,0),sl(e,t),il(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,El(e,zs,Hs),il(e,Ye()),null}function cl(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(qs=Ye()+500,Ui&&Bi())}}function fl(e){null!==$s&&0===$s.tag&&0===(6&As)&&Sl();var t=As;As|=1;var n=Is.transition,r=kt;try{if(Is.transition=null,kt=1,e)return e()}finally{kt=r,Is.transition=n,0===(6&(As=t))&&Bi()}}function hl(){Os=Ls.current,_i(Ls)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),_i(Ai),_i(Ii),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:_i(uo);break;case 10:Ea(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Ns=e,Ds=e=Ll(e.current,null),Ps=Os=t,Rs=0,Ms=null,Us=Vs=Fs=0,zs=js=null,null!==Ca){for(t=0;t<Ca.length;t++)if(null!==(r=(n=Ca[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ca=null}return e}function pl(e,t){for(;;){var n=Ds;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Rs=1,Ms=t,Ds=null;break}e:{var o=e,u=n.return,s=n,l=t;if(t=Ps,s.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&yu(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}if(0===(1&t)){yu(o,c,t),yl();break e}l=Error(a(426))}else if(ia&&1&s.mode){var m=mu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gu(m,u,s,0,t),pa(cu(l,s));break e}}o=l=cu(l,s),4!==Rs&&(Rs=2),null===js?js=[o]:js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,l,t));break e;case 1:s=l;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Qs||!Qs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wl(n)}catch(b){t=b,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function vl(){var e=Cs.current;return Cs.current=ou,null===e?ou:e}function yl(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===Ns||0===(268435455&Fs)&&0===(268435455&Vs)||sl(Ns,Ps)}function ml(e,t){var n=As;As|=2;var r=vl();for(Ns===e&&Ps===t||(Hs=null,dl(e,t));;)try{gl();break}catch(i){pl(e,i)}if(wa(),As=n,Cs.current=r,null!==Ds)throw Error(a(261));return Ns=null,Ps=0,Rs}function gl(){for(;null!==Ds;)bl(Ds)}function kl(){for(;null!==Ds&&!$e();)bl(Ds)}function bl(e){var t=xs(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?wl(e):Ds=t,Ts.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Os)))return void(Ds=n)}else{if(null!==(n=$u(n,t)))return n.flags&=32767,void(Ds=n);if(null===e)return Rs=6,void(Ds=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Rs&&(Rs=5)}function El(e,t,n){var r=kt,i=Is.transition;try{Is.transition=null,kt=1,function(e,t,n,r){do{Sl()}while(null!==$s);if(0!==(6&As))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(Ds=Ns=null,Ps=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Nl(tt,(function(){return Sl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Is.transition,Is.transition=null;var u=kt;kt=1;var s=As;As|=4,Ts.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(l=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(s=u),d===o&&++f===r&&(l=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){_l(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ns,ns=!1}(e,n),ms(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,ks(n,e,i),Xe(),As=s,kt=u,Is.transition=o}else e.current=n;if(Gs&&(Gs=!1,$s=e,Xs=i),o=e.pendingLanes,0===o&&(Qs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Ws,Ws=null,e;0!==(1&Xs)&&0!==e.tag&&Sl(),o=e.pendingLanes,0!==(1&o)?e===Js?Ys++:(Ys=0,Js=e):Ys=0,Bi()}(e,t,n,r)}finally{Is.transition=i,kt=r}return null}function Sl(){if(null!==$s){var e=bt(Xs),t=Is.transition,n=kt;try{if(Is.transition=null,kt=16>e?16:e,null===$s)var r=!1;else{if(e=$s,$s=null,Xs=0,0!==(6&As))throw Error(a(331));var i=As;for(As|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(Zu=c;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(os(f),f===c){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var k=e.current;for(Zu=k;null!==Zu;){var b=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Zu=b;else e:for(u=k;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(E){_l(s,s.return,E)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(As=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{kt=n,Is.transition=t}}return!1}function xl(e,t,n){e=La(e,t=pu(0,t=cu(n,t),1),1),t=tl(),null!==e&&(mt(e,1,t),il(e,t))}function _l(e,t,n){if(3===e.tag)xl(e,e,n);else for(;null!==t;){if(3===t.tag){xl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Qs||!Qs.has(r))){t=La(t,e=vu(t,e=cu(n,e),1),1),e=tl(),null!==t&&(mt(t,1,e),il(t,e));break}}t=t.return}}function Cl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Ps&n)===n&&(4===Rs||3===Rs&&(130023424&Ps)===Ps&&500>Ye()-Bs?dl(e,0):Us|=n),il(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Aa(e,t))&&(mt(e,t,n),il(e,n))}function Il(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function Al(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tl(e,n)}function Nl(e,t){return Qe(e,t)}function Dl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(e,t,n,r){return new Dl(e,t,n,r)}function Ol(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ll(e,t){var n=e.alternate;return null===n?((n=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rl(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Ol(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case S:return Ml(n.children,i,o,t);case x:u=8,i|=8;break;case _:return(e=Pl(12,n,t,2|i)).elementType=_,e.lanes=o,e;case A:return(e=Pl(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Pl(19,n,t,i)).elementType=N,e.lanes=o,e;case O:return Fl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:u=10;break e;case T:u=9;break e;case I:u=11;break e;case D:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pl(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ml(e,t,n,r){return(e=Pl(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Pl(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Vl(e,t,n){return(e=Pl(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zl(e,t,n,r,i,a,o,u,s){return e=new jl(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Bl(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Ri(e,n,t)}return t}function ql(e,t,n,r,i,a,o,u,s){return(e=zl(n,r,!0,e,0,a,0,u,s)).context=Bl(null),n=e.current,(a=Oa(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,La(n,a,i),e.current.lanes=i,mt(e,i,r),il(e,r),e}function Hl(e,t,n,r){var i=t.current,a=tl(),o=nl(i);return n=Bl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=La(i,t,o))&&(rl(e,i,o,a),Ra(e,i,o)),o}function Kl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ql(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}xs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Vu(e,t,n):(Ci(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ci(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,_u(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hu(e,t),e=t.pendingProps;var i=Di(t,Ii.current);xa(t,n),i=xo(null,t,r,e,i,n);var o=_o();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ol(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===D)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Iu(null,t,r,e,n);break e;case 11:t=Eu(null,t,r,e,n);break e;case 14:t=Su(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Du(e,t,r,n,i=cu(Error(a(423)),t));break e}if(r!==i){t=Du(e,t,r,n,i=cu(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Cu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&la(t),null;case 13:return Vu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Eu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ci(ma,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Oa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Sa(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Sa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xa(t,n),r=r(i=_a(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),Su(e,t,r,i=ya(r.type,i),n);case 15:return xu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),Hu(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,xa(t,n),qa(t,r,i),Ka(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return _u(e,t,n)}throw Error(a(156,t.tag))};var Gl="function"===typeof reportError?reportError:function(e){console.error(e)};function $l(e){this._internalRoot=e}function Xl(e){this._internalRoot=e}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kl(o);u.call(e)}}Hl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kl(o);a.call(e)}}var o=ql(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kl(s);u.call(e)}}var s=zl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fl((function(){Hl(t,s,n,r)})),s}(n,t,e,i,r);return Kl(o)}Xl.prototype.render=$l.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hl(e,t,null,null)},Xl.prototype.unmount=$l.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fl((function(){Hl(null,e,null,null)})),t[pi]=null}},Xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),il(t,Ye()),0===(6&As)&&(qs=Ye()+500,Bi()))}break;case 13:fl((function(){var t=Aa(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Ql(e,1)}},Et=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rl(t,e,134217728,tl());Ql(e,134217728)}},St=function(e){if(13===e.tag){var t=nl(e),n=Aa(e,t);if(null!==n)rl(n,e,t,tl());Ql(e,t)}},xt=function(){return kt},_t=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));Q(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cl,Ae=fl;var tc={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ce,Te,cl]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yl(e))throw Error(a(299));var n=!1,r="",i=Gl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $l(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return fl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Gl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(fl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:u.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!x.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+I(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var c=a+I(u=e[l],l);s+=A(u,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,c=a+I(u,l++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},L={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)E.call(t,l)&&!x.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],l=u+1,c=e[l];if(0>a(s,n))l<i&&0>a(c,s)?(e[r]=c,e[l]=n,r=l):(e[r]=s,e[u]=n,r=u);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(y=!1,b(e),!v)if(null!==r(l))v=!0,O(E);else{var t=r(c);null!==t&&L(w,t.startTime-e)}}function E(e,n){v=!1,y&&(y=!1,g(C),C=-1),p=!0;var a=d;try{for(b(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(l)&&i(l),b(n)}else i(l);h=r(l)}if(null!==h)var s=!0;else{var f=r(c);null!==f&&L(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,x=!1,_=null,C=-1,T=5,I=-1;function A(){return!(t.unstable_now()-I<T)}function N(){if(null!==_){var e=t.unstable_now();I=e;var n=!0;try{n=_(!0,e)}finally{n?S():(x=!1,_=null)}}else x=!1}if("function"===typeof k)S=function(){k(N)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,P=D.port2;D.port1.onmessage=N,S=function(){P.postMessage(null)}}else S=function(){m(N,0)};function O(e){_=e,x||(x=!0,S())}function L(e,n){C=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(y?(g(C),C=-1):y=!0,L(w,a-o))):(e.sortIndex=u,n(l,e),v||p||(v=!0,O(E))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Pet-Paradise-react-final/",function(){var e=n(791),t=n.t(e,2),r=n(250);var i=n.p+"static/media/cart.7598b49227501fa5510b35721183373b.svg";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function u(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function d(e){return function(e){if(Array.isArray(e))return c(e)}(e)||f(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){if(Array.isArray(e))return e}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){return p(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(c){l=!0,i=c}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return u}}(e,t)||h(e,t)||v()}var m,g=n(184),k=(0,e.createContext)(),b=JSON.parse(localStorage.getItem("cart"))||[],w=function(t){var n=t.children,r=y((0,e.useState)(b),2),i=r[0],a=r[1];console.log(i);var o=function(e){return i.some((function(t){return t.id===e}))};return(0,g.jsx)(k.Provider,{value:{cart:i,addItem:function(e,t){o(e.id)?console.error("El producto ya fue agregado"):a((function(n){return[].concat(d(n),[l(l({},e),{},{quantity:t})])}))},removeItem:function(e){var t=i.filter((function(t){return t.id!==e}));a(t)},clearCart:function(){a([])},precioTotal:function(){return i.reduce((function(e,t){return e+t.precio*t.quantity}),0)},cantidadEnCarrito:function(){return i.reduce((function(e,t){return e+t.quantity}),0)}},children:n})};function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function x(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function C(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function I(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){var t=I();return function(){var n,r=T(e);if(t){var i=T(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}(this,n)}}function D(e,t,n){return D=I()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_(i,n.prototype),i},D.apply(null,arguments)}function P(e){var t="function"===typeof Map?new Map:void 0;return P=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return D(e,arguments,T(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_(r,e)},P(e)}function O(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(m||(m={}));var R,M="popstate";function F(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function V(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function U(e,t){return{usr:e.state,key:e.key,idx:t}}function j(e,t,n,r){return void 0===n&&(n=null),L({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?B(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function z(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function B(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function q(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,l=o.history,c=m.Pop,f=null,h=d();function d(){return(l.state||{idx:null}).idx}function p(){c=m.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:c,location:y.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:z(e);return F(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,l.replaceState(L({},l.state,{idx:h}),""));var y={get action(){return c},get location(){return e(o,l)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(M,p),f=e,function(){o.removeEventListener(M,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c=m.Push;var r=j(y.location,e,t);n&&n(r,e);var i=U(r,h=d()+1),a=y.createHref(r);try{l.pushState(i,"",a)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;o.location.assign(a)}s&&f&&f({action:c,location:y.location,delta:1})},replace:function(e,t){c=m.Replace;var r=j(y.location,e,t);n&&n(r,e);var i=U(r,h=d()),a=y.createHref(r);l.replaceState(i,"",a),s&&f&&f({action:c,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(R||(R={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function H(e,t,n){void 0===n&&(n="/");var r=ie(("string"===typeof t?B(t):t).pathname||"/",n);if(null==r)return null;var i=K(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=te(i[o],re(r));return a}function K(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(F(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=se([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(F(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),K(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:ee(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=O(W(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function W(e){var t=e.split("/");if(0===t.length)return[];var n,r=p(n=t)||f(n)||h(n)||v(),i=r[0],a=r.slice(1),o=i.endsWith("?"),u=i.replace(/\?$/,"");if(0===a.length)return o?[u,""]:[u];var s=W(a.join("/")),l=[];return l.push.apply(l,d(s.map((function(e){return""===e?u:[u,e].join("/")})))),o&&l.push.apply(l,d(s)),l.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var Q=/^:\w+$/,G=3,$=2,X=1,Y=10,J=-2,Z=function(e){return"*"===e};function ee(e,t){var n=e.split("/"),r=n.length;return n.some(Z)&&(r+=J),t&&(r+=$),n.filter((function(e){return!Z(e)})).reduce((function(e,t){return e+(Q.test(t)?G:""===t?X:Y)}),r)}function te(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=ne({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);var f=u.route;a.push({params:r,pathname:se([i,c.pathname]),pathnameBase:le(se([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=se([i,c.pathnameBase]))}return a}function ne(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);V("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=y(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return V(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function re(e){try{return decodeURI(e)}catch(t){return V(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function ie(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ae(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function oe(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ue(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=B(e):(F(!(i=L({},e)).pathname||!i.pathname.includes("?"),ae("?","pathname","search",i)),F(!i.pathname||!i.pathname.includes("#"),ae("#","pathname","hash",i)),F(!i.search||!i.search.includes("#"),ae("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var l=u.split("/");".."===l[0];)l.shift(),s-=1;i.pathname=l.join("/")}a=s>=0?t[s]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?B(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ce(a),hash:fe(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return c.pathname.endsWith("/")||!f&&!h||(c.pathname+="/"),c}var se=function(e){return e.join("/").replace(/\/\/+/g,"/")},le=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ce=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},fe=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},he=function(e){C(n,e);var t=N(n);function n(){return E(this,n),t.apply(this,arguments)}return x(n)}(P(Error));function de(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var pe=["post","put","patch","delete"],ve=(new Set(pe),["get"].concat(pe));new Set(ve),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}var me=e.createContext(null);var ge=e.createContext(null);var ke=e.createContext(null);var be=e.createContext(null);var we=e.createContext(null);var Ee=e.createContext({outlet:null,matches:[],isDataRoute:!1});var Se=e.createContext(null);function xe(){return null!=e.useContext(we)}function _e(){return xe()||F(!1),e.useContext(we).location}function Ce(t){e.useContext(be).static||e.useLayoutEffect(t)}function Te(){return e.useContext(Ee).isDataRoute?function(){var t=Ve(Pe.UseNavigateStable).router,n=je(Oe.UseNavigateStable),r=e.useRef(!1);Ce((function(){r.current=!0}));var i=e.useCallback((function(e,i){void 0===i&&(i={}),r.current&&("number"===typeof e?t.navigate(e):t.navigate(e,ye({fromRouteId:n},i)))}),[t,n]);return i}():function(){xe()||F(!1);var t=e.useContext(me),n=e.useContext(be),r=n.basename,i=n.navigator,a=e.useContext(Ee).matches,o=_e().pathname,u=JSON.stringify(oe(a).map((function(e){return e.pathnameBase}))),s=e.useRef(!1);return Ce((function(){s.current=!0})),e.useCallback((function(e,n){if(void 0===n&&(n={}),s.current)if("number"!==typeof e){var a=ue(e,JSON.parse(u),o,"path"===n.relative);null==t&&"/"!==r&&(a.pathname="/"===a.pathname?r:se([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(e)}),[r,i,u,o,t])}()}function Ie(){var t=e.useContext(Ee).matches,n=t[t.length-1];return n?n.params:{}}function Ae(t,n){var r=(void 0===n?{}:n).relative,i=e.useContext(Ee).matches,a=_e().pathname,o=JSON.stringify(oe(i).map((function(e){return e.pathnameBase})));return e.useMemo((function(){return ue(t,JSON.parse(o),a,"path"===r)}),[t,o,a,r])}function Ne(t,n,r){xe()||F(!1);var i,a=e.useContext(be).navigator,o=e.useContext(Ee).matches,u=o[o.length-1],s=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),c=(u&&u.route,_e());if(n){var f,h="string"===typeof n?B(n):n;"/"===l||(null==(f=h.pathname)?void 0:f.startsWith(l))||F(!1),i=h}else i=c;var d=i.pathname||"/",p=H(t,{pathname:"/"===l?d:d.slice(l.length)||"/"});var v=Fe(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:se([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:se([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&v?e.createElement(we.Provider,{value:{location:ye({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:m.Pop}},v):v}function De(){var t=function(){var t,n=e.useContext(Se),r=Ue(Oe.UseRouteError),i=je(Oe.UseRouteError);if(n)return n;return null==(t=r.errors)?void 0:t[i]}(),n=de(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:a},r):null,null)}var Pe,Oe,Le=e.createElement(De,null),Re=function(t){C(r,t);var n=N(r);function r(e){var t;return E(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return x(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?e.createElement(Ee.Provider,{value:this.props.routeContext},e.createElement(Se.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(e.Component);function Me(t){var n=t.routeContext,r=t.match,i=t.children,a=e.useContext(me);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(Ee.Provider,{value:n},i)}function Fe(t,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==t){var a;if(null==(a=r)||!a.errors)return null;t=r.matches}var o=t,u=null==(i=r)?void 0:i.errors;if(null!=u){var s=o.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));s>=0||F(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((function(t,i,a){var s=i.route.id?null==u?void 0:u[i.route.id]:null,l=null;r&&(l=i.route.errorElement||Le);var c=n.concat(o.slice(0,a+1)),f=function(){var n;return n=s?l:i.route.Component?e.createElement(i.route.Component,null):i.route.element?i.route.element:t,e.createElement(Me,{match:i,routeContext:{outlet:t,matches:c,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?e.createElement(Re,{location:r.location,revalidation:r.revalidation,component:l,error:s,children:f(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):f()}),null)}function Ve(t){var n=e.useContext(me);return n||F(!1),n}function Ue(t){var n=e.useContext(ge);return n||F(!1),n}function je(t){var n=function(t){var n=e.useContext(Ee);return n||F(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||F(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Pe||(Pe={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(Oe||(Oe={}));var ze;t.startTransition;function Be(e){F(!1)}function qe(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,u=t.navigationType,s=void 0===u?m.Pop:u,l=t.navigator,c=t.static,f=void 0!==c&&c;xe()&&F(!1);var h=r.replace(/^\/*/,"/"),d=e.useMemo((function(){return{basename:h,navigator:l,static:f}}),[h,l,f]);"string"===typeof o&&(o=B(o));var p=o,v=p.pathname,y=void 0===v?"/":v,g=p.search,k=void 0===g?"":g,b=p.hash,w=void 0===b?"":b,E=p.state,S=void 0===E?null:E,x=p.key,_=void 0===x?"default":x,C=e.useMemo((function(){var e=ie(y,h);return null==e?null:{location:{pathname:e,search:k,hash:w,state:S,key:_},navigationType:s}}),[h,y,k,w,S,_,s]);return null==C?null:e.createElement(be.Provider,{value:d},e.createElement(we.Provider,{children:a,value:C}))}function He(e){var t=e.children,n=e.location;return Ne(We(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(ze||(ze={}));var Ke=new Promise((function(){}));e.Component;function We(t,n){void 0===n&&(n=[]);var r=[];return e.Children.forEach(t,(function(t,i){if(e.isValidElement(t)){var a=[].concat(d(n),[i]);if(t.type!==e.Fragment){t.type!==Be&&F(!1),t.props.index&&t.props.children&&F(!1);var o={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=We(t.props.children,a)),r.push(o)}else r.push.apply(r,We(t.props.children,a))}})),r}function Qe(){return Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qe.apply(this,arguments)}function Ge(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var $e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Xe=["aria-current","caseSensitive","className","end","style","to","children"];var Ye=t.startTransition;function Je(t){var n,r=t.basename,i=t.children,a=t.future,o=t.window,u=e.useRef();null==u.current&&(u.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),q((function(e,t){var n=B(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,u=n.hash;return j("",{pathname:i,search:o,hash:void 0===u?"":u},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:z(t))}),(function(e,t){V("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),n)));var s=u.current,l=y(e.useState({action:s.action,location:s.location}),2),c=l[0],f=l[1],h=(a||{}).v7_startTransition,d=e.useCallback((function(e){h&&Ye?Ye((function(){return f(e)})):f(e)}),[f,h]);return e.useLayoutEffect((function(){return s.listen(d)}),[s,d]),e.createElement(qe,{basename:r,children:i,location:c.location,navigationType:c.action,navigator:s})}var Ze="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,et=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=e.forwardRef((function(t,n){var r,i=t.onClick,a=t.relative,o=t.reloadDocument,u=t.replace,s=t.state,l=t.target,c=t.to,f=t.preventScrollReset,h=Ge(t,$e),d=e.useContext(be).basename,p=!1;if("string"===typeof c&&et.test(c)&&(r=c,Ze))try{var v=new URL(window.location.href),y=c.startsWith("//")?new URL(v.protocol+c):new URL(c),m=ie(y.pathname,d);y.origin===v.origin&&null!=m?c=m+y.search+y.hash:p=!0}catch(b){}var g=function(t,n){var r=(void 0===n?{}:n).relative;xe()||F(!1);var i=e.useContext(be),a=i.basename,o=i.navigator,u=Ae(t,{relative:r}),s=u.hash,l=u.pathname,c=u.search,f=l;return"/"!==a&&(f="/"===l?a:se([a,l])),o.createHref({pathname:f,search:c,hash:s})}(c,{relative:a}),k=function(t,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=r.preventScrollReset,s=r.relative,l=Te(),c=_e(),f=Ae(t,{relative:s});return e.useCallback((function(e){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,i)){e.preventDefault();var n=void 0!==a?a:z(c)===z(f);l(t,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[c,l,f,a,o,i,t,u,s])}(c,{replace:u,state:s,target:l,preventScrollReset:f,relative:a});return e.createElement("a",Qe({},h,{href:r||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:n,target:l}))}));var nt=e.forwardRef((function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,a=t.caseSensitive,o=void 0!==a&&a,u=t.className,s=void 0===u?"":u,l=t.end,c=void 0!==l&&l,f=t.style,h=t.to,d=t.children,p=Ge(t,Xe),v=Ae(h,{relative:p.relative}),y=_e(),m=e.useContext(ge),g=e.useContext(be).navigator,k=g.encodeLocation?g.encodeLocation(v).pathname:v.pathname,b=y.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;o||(b=b.toLowerCase(),w=w?w.toLowerCase():null,k=k.toLowerCase());var E,S=b===k||!c&&b.startsWith(k)&&"/"===b.charAt(k.length),x=null!=w&&(w===k||!c&&w.startsWith(k)&&"/"===w.charAt(k.length)),_=S?i:void 0;E="function"===typeof s?s({isActive:S,isPending:x}):[s,S?"active":null,x?"pending":null].filter(Boolean).join(" ");var C="function"===typeof f?f({isActive:S,isPending:x}):f;return e.createElement(tt,Qe({},p,{"aria-current":_,className:E,ref:n,style:C,to:h}),"function"===typeof d?d({isActive:S,isPending:x}):d)}));var rt,it;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(rt||(rt={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(it||(it={}));var at=function(){var t=(0,e.useContext)(k).cantidadEnCarrito;return(0,g.jsxs)(tt,{to:"/cart",className:"CartWidget",children:[(0,g.jsx)("img",{className:"CartImg",src:i,alt:"cart-widget"}),t()]})},ot=function(){return(0,g.jsx)("nav",{class:"navbar navbar-expand-lg fixed-top",children:(0,g.jsxs)("div",{class:"container",children:[(0,g.jsx)(tt,{to:"/",children:(0,g.jsx)("h1",{class:"logo",children:"Pet paradise"})}),(0,g.jsxs)("ul",{class:"navbar-nav",children:[(0,g.jsx)("li",{class:"nav-item",children:(0,g.jsx)(nt,{to:"/productos/perros",className:"nav-link",children:"Perros"})}),(0,g.jsx)("li",{class:"nav-item",children:(0,g.jsx)(nt,{to:"/productos/gatos",className:"nav-link",children:"Gatos"})}),(0,g.jsx)("li",{class:"nav-item",children:(0,g.jsx)(nt,{to:"/productos/exoticos",className:"nav-link",children:"Exoticos"})}),(0,g.jsx)("li",{class:"nav-item",children:(0,g.jsx)(at,{})})]})]})})},ut=function(e){var t=e.id,n=e.titulo,r=e.imagen,i=(e.categoria,e.stock),a=e.precio;return(0,g.jsx)("div",{className:"col",children:(0,g.jsxs)("article",{className:"CardItem",children:[(0,g.jsx)("div",{className:"ItemImage",children:(0,g.jsx)("picture",{children:(0,g.jsx)("img",{src:r,alt:n,className:"ItemImg"})})}),(0,g.jsx)("p",{className:"ItemHeader",children:n}),(0,g.jsxs)("section",{children:[(0,g.jsxs)("p",{className:"Info",children:["Precio: $",a]}),(0,g.jsxs)("p",{className:"Info",children:["Stock disponible: ",i]})]}),(0,g.jsx)("footer",{children:(0,g.jsx)(tt,{to:"/item/".concat(t),className:"Option",children:"Ver detalle"})})]})})},st=function(e){var t=e.products;return(0,g.jsx)("div",{className:"container text-center overflow-hidden",children:(0,g.jsx)("div",{className:"row row-cols-3 gy-5",children:t.map((function(e){return(0,g.jsx)(ut,l({},e),e.id)}))})})};function lt(){return lt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},lt.apply(this,arguments)}function ct(){ct=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(A){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),u=new C(i||[]);return r(o,"_invoke",{value:E(e,n,u)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var h={};function d(){}function p(){}function v(){}var y={};l(y,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==t&&n.call(g,o)&&(y=g);var k=v.prototype=d.prototype=Object.create(y);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,u,s){var l=f(e[r],e,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==a(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,u,s)}),(function(e){i("throw",e,u,s)})):t.resolve(h).then((function(e){c.value=e,u(c)}),(function(e){return i("throw",e,u,s)}))}s(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=l(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,u,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),l(k,s,"Generator"),l(k,o,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function ft(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(l){return void n(l)}u.done?t(s):Promise.resolve(s).then(r,i)}function ht(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ft(a,r,i,o,u,"next",e)}function u(e){ft(a,r,i,o,u,"throw",e)}o(void 0)}))}}var dt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},pt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|l>>6,d=63&l;s||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(dt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new vt;var l=a<<2|o>>4;if(r.push(l),64!==u){var c=o<<4&240|u>>2;if(r.push(c),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},vt=function(e){C(n,e);var t=N(n);function n(){var e;return E(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return x(n)}(P(Error)),yt=function(e){return function(e){var t=dt(e);return pt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},mt=function(e){try{return pt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var gt=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},kt=function(){try{return gt()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/Pet-Paradise-react-final",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&mt(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},bt=function(e){var t=function(e){var t,n;return null===(n=null===(t=kt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},wt=function(){var e;return null===(e=kt())||void 0===e?void 0:e.config},Et=function(){function e(){var t=this;E(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return x(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function St(){try{return"object"===typeof indexedDB}catch(e){return!1}}var xt=function(e){C(n,e);var t=N(n);function n(e,r,i){var a;return E(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(A(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(A(a),_t.prototype.create),a}return x(n)}(P(Error)),_t=function(){function e(t,n,r){E(this,e),this.service=t,this.serviceName=n,this.errors=r}return x(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ct,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new xt(n,a,t)}}]),e}();var Ct=/\{\$([^}]+)}/g;function Tt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(It(u)&&It(s)){if(!Tt(u,s))return!1}else if(u!==s)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function It(e){return null!==e&&"object"===typeof e}function At(e){return e&&e._delegate?e._delegate:e}var Nt=function(){function e(t,n,r){E(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return x(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Dt="[DEFAULT]",Pt=function(){function e(t,n){E(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return x(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Et;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Dt})}catch(s){}var t,n=O(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=y(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ht(ct().mark((function e(){var t;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(d(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),d(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=O(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=y(i.value,2),s=u[0],l=u[1];r===this.normalizeInstanceIdentifier(s)&&l.resolve(a)}}catch(c){o.e(c)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=O(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Dt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt;return this.component?this.component.multipleInstances?e:Dt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ot,Lt,Rt=function(){function e(t){E(this,e),this.name=t,this.providers=new Map}return x(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Pt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Mt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Lt||(Lt={}));var Ft={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},Vt=Lt.INFO,Ut=(u(Ot={},Lt.DEBUG,"log"),u(Ot,Lt.VERBOSE,"log"),u(Ot,Lt.INFO,"info"),u(Ot,Lt.WARN,"warn"),u(Ot,Lt.ERROR,"error"),Ot),jt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ut[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},zt=function(){function e(t){E(this,e),this.name=t,this._logLevel=Vt,this._logHandler=jt,this._userLogHandler=null,Mt.push(this)}return x(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Lt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ft[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.DEBUG].concat(t)),this._logHandler.apply(this,[this,Lt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Lt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.INFO].concat(t)),this._logHandler.apply(this,[this,Lt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.WARN].concat(t)),this._logHandler.apply(this,[this,Lt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.ERROR].concat(t)),this._logHandler.apply(this,[this,Lt.ERROR].concat(t))}}]),e}();var Bt,qt,Ht=function(e,t){return t.some((function(t){return e instanceof t}))};var Kt=new WeakMap,Wt=new WeakMap,Qt=new WeakMap,Gt=new WeakMap,$t=new WeakMap;var Xt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Wt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Qt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Yt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(qt||(qt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(en(this),n),Zt(Kt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zt(e.apply(en(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[en(this),t].concat(r));return Qt.set(a,t.sort?t.sort():[t]),Zt(a)}}function Jt(e){return"function"===typeof e?Yt(e):(e instanceof IDBTransaction&&function(e){if(!Wt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Wt.set(e,t)}}(e),Ht(e,Bt||(Bt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Xt):e)}function Zt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Zt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Kt.set(t,e)})).catch((function(){})),$t.set(t,e),t}(e);if(Gt.has(e))return Gt.get(e);var t=Jt(e);return t!==e&&(Gt.set(e,t),$t.set(t,e)),t}var en=function(e){return $t.get(e)};var tn,nn,rn=["get","getKey","getAll","getAllKeys","count"],an=["put","add","delete","clear"],on=new Map;function un(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(on.get(t))return on.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=an.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||rn.includes(n))){var a=function(){var e=ht(ct().mark((function e(t){var a,o,u,s,l,c,f=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=f[c];return r&&(u=u.index(l.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return on.set(t,a),a}}}Xt=function(e){return l(l({},e),{},{get:function(t,n,r){return un(t,n)||e.get(t,n,r)},has:function(t,n){return!!un(t,n)||e.has(t,n)}})}(Xt);var sn=function(){function e(t){E(this,e),this.container=t}return x(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ln="@firebase/app",cn="0.9.15",fn=new zt("@firebase/app"),hn="[DEFAULT]",dn=(u(tn={},ln,"fire-core"),u(tn,"@firebase/app-compat","fire-core-compat"),u(tn,"@firebase/analytics","fire-analytics"),u(tn,"@firebase/analytics-compat","fire-analytics-compat"),u(tn,"@firebase/app-check","fire-app-check"),u(tn,"@firebase/app-check-compat","fire-app-check-compat"),u(tn,"@firebase/auth","fire-auth"),u(tn,"@firebase/auth-compat","fire-auth-compat"),u(tn,"@firebase/database","fire-rtdb"),u(tn,"@firebase/database-compat","fire-rtdb-compat"),u(tn,"@firebase/functions","fire-fn"),u(tn,"@firebase/functions-compat","fire-fn-compat"),u(tn,"@firebase/installations","fire-iid"),u(tn,"@firebase/installations-compat","fire-iid-compat"),u(tn,"@firebase/messaging","fire-fcm"),u(tn,"@firebase/messaging-compat","fire-fcm-compat"),u(tn,"@firebase/performance","fire-perf"),u(tn,"@firebase/performance-compat","fire-perf-compat"),u(tn,"@firebase/remote-config","fire-rc"),u(tn,"@firebase/remote-config-compat","fire-rc-compat"),u(tn,"@firebase/storage","fire-gcs"),u(tn,"@firebase/storage-compat","fire-gcs-compat"),u(tn,"@firebase/firestore","fire-fst"),u(tn,"@firebase/firestore-compat","fire-fst-compat"),u(tn,"fire-js","fire-js"),u(tn,"firebase","fire-js-all"),tn),pn=new Map,vn=new Map;function yn(e,t){try{e.container.addComponent(t)}catch(n){fn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function mn(e){var t=e.name;if(vn.has(t))return fn.debug("There were multiple attempts to register component ".concat(t,".")),!1;vn.set(t,e);var n,r=O(pn.values());try{for(r.s();!(n=r.n()).done;){yn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function gn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var kn=(u(nn={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),u(nn,"bad-app-name","Illegal App name: '{$appName}"),u(nn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),u(nn,"app-deleted","Firebase App named '{$appName}' already deleted"),u(nn,"no-options","Need to provide options, when not being deployed to hosting via source."),u(nn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),u(nn,"invalid-log-argument","First argument to `onLog` must be null or a function."),u(nn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),u(nn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),u(nn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),u(nn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),nn),bn=new _t("app","Firebase",kn),wn=function(){function e(t,n,r){var i=this;E(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nt("app",(function(){return i}),"PUBLIC"))}return x(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw bn.create("app-deleted",{appName:this._name})}}]),e}();function En(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:hn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw bn.create("bad-app-name",{appName:String(i)});if(n||(n=wt()),!n)throw bn.create("no-options");var a=pn.get(i);if(a){if(Tt(n,a.options)&&Tt(r,a.config))return a;throw bn.create("duplicate-app",{appName:i})}var o,u=new Rt(i),s=O(vn.values());try{for(s.s();!(o=s.n()).done;){var l=o.value;u.addComponent(l)}}catch(f){s.e(f)}finally{s.f()}var c=new wn(n,r,u);return pn.set(i,c),c}function Sn(e,t,n){var r,i=null!==(r=dn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void fn.warn(u.join(" "))}mn(new Nt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var xn="firebase-heartbeat-database",_n=1,Cn="firebase-heartbeat-store",Tn=null;function In(){return Tn||(Tn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Zt(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Zt(u.result),e.oldVersion,e.newVersion,Zt(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(xn,_n,{upgrade:function(e,t){if(0===t)e.createObjectStore(Cn)}}).catch((function(e){throw bn.create("idb-open",{originalErrorMessage:e.message})}))),Tn}function An(e){return Nn.apply(this,arguments)}function Nn(){return Nn=ht(ct().mark((function e(t){var n,r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,In();case 3:return n=e.sent,e.next=6,n.transaction(Cn).objectStore(Cn).get(On(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof xt?fn.warn(e.t0.message):(i=bn.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),fn.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Nn.apply(this,arguments)}function Dn(e,t){return Pn.apply(this,arguments)}function Pn(){return Pn=ht(ct().mark((function e(t,n){var r,i,a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,In();case 3:return r=e.sent,i=r.transaction(Cn,"readwrite"),a=i.objectStore(Cn),e.next=8,a.put(n,On(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof xt?fn.warn(e.t0.message):(o=bn.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),fn.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Pn.apply(this,arguments)}function On(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ln=function(){function e(t){var n=this;E(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Vn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return x(e,[{key:"triggerHeartbeat",value:function(){var e=ht(ct().mark((function e(){var t,n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Rn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ht(ct().mark((function e(){var t,n,r,i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Rn(),n=Mn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=yt(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Rn(){return(new Date).toISOString().substring(0,10)}function Mn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=O(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Un(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Un(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Fn,Vn=function(){function e(t){E(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return x(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ht(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(St()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ht(ct().mark((function e(){var t;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,An(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ht(ct().mark((function e(t){var n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Dn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ht(ct().mark((function e(t){var n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Dn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(d(r.heartbeats),d(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Un(e){return yt(JSON.stringify({version:2,heartbeats:e})).length}Fn="",mn(new Nt("platform-logger",(function(e){return new sn(e)}),"PRIVATE")),mn(new Nt("heartbeat",(function(e){return new Ln(e)}),"PRIVATE")),Sn(ln,cn,Fn),Sn(ln,cn,"esm2017"),Sn("fire-js","");var jn,zn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Bn={},qn=qn||{},Hn=zn||self;function Kn(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Wn(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Qn="closure_uid_"+(1e9*Math.random()>>>0),Gn=0;function $n(e,t,n){return e.call.apply(e.bind,arguments)}function Xn(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Yn(e,t,n){return(Yn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$n:Xn).apply(null,arguments)}function Jn(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Zn(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function er(){this.s=this.s,this.o=this.o}er.prototype.s=!1,er.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Qn)&&e[Qn]||(e[Qn]=++Gn))},er.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var tr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function nr(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function rr(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Kn(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function ir(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ir.prototype.h=function(){this.defaultPrevented=!0};var ar=function(){if(!Hn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Hn.addEventListener("test",(function(){}),t),Hn.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function or(e){return/^[\s\xa0]*$/.test(e)}function ur(){var e=Hn.navigator;return e&&(e=e.userAgent)?e:""}function sr(e){return-1!=ur().indexOf(e)}function lr(e){return lr[" "](e),e}lr[" "]=function(){};var cr,fr,hr=sr("Opera"),dr=sr("Trident")||sr("MSIE"),pr=sr("Edge"),vr=pr||dr,yr=sr("Gecko")&&!(-1!=ur().toLowerCase().indexOf("webkit")&&!sr("Edge"))&&!(sr("Trident")||sr("MSIE"))&&!sr("Edge"),mr=-1!=ur().toLowerCase().indexOf("webkit")&&!sr("Edge");function gr(){var e=Hn.document;return e?e.documentMode:void 0}e:{var kr="",br=function(){var e=ur();return yr?/rv:([^\);]+)(\)|;)/.exec(e):pr?/Edge\/([\d\.]+)/.exec(e):dr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):mr?/WebKit\/(\S+)/.exec(e):hr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(br&&(kr=br?br[1]:""),dr){var wr=gr();if(null!=wr&&wr>parseFloat(kr)){cr=String(wr);break e}}cr=kr}if(Hn.document&&dr){var Er=gr();fr=Er||(parseInt(cr,10)||void 0)}else fr=void 0;var Sr=fr;function xr(e,t){if(ir.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(yr){e:{try{lr(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:_r[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&xr.$.h.call(this)}}Zn(xr,ir);var _r={2:"touch",3:"pen",4:"mouse"};xr.prototype.h=function(){xr.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Cr="closure_listenable_"+(1e6*Math.random()|0),Tr=0;function Ir(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Tr,this.fa=this.ia=!1}function Ar(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Nr(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Dr(e){var t={};for(var n in e)t[n]=e[n];return t}var Pr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Or(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Pr.length;a++)n=Pr[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Lr(e){this.src=e,this.g={},this.h=0}function Rr(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=tr(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ar(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Mr(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Lr.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Mr(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Ir(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Fr="closure_lm_"+(1e6*Math.random()|0),Vr={};function Ur(e,t,n,r,i){if(r&&r.once)return zr(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ur(e,t[a],n,r,i);return null}return n=Gr(n),e&&e[Cr]?e.O(t,n,Wn(r)?!!r.capture:!!r,i):jr(e,t,n,!1,r,i)}function jr(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Wn(i)?!!i.capture:!!i,u=Wr(e);if(u||(e[Fr]=u=new Lr(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Kr;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ar||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Hr(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function zr(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)zr(e,t[a],n,r,i);return null}return n=Gr(n),e&&e[Cr]?e.P(t,n,Wn(r)?!!r.capture:!!r,i):jr(e,t,n,!0,r,i)}function Br(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Br(e,t[a],n,r,i);else r=Wn(r)?!!r.capture:!!r,n=Gr(n),e&&e[Cr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Mr(a=e.g[t],n,r,i))&&(Ar(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Wr(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Mr(t,n,r,i)),(n=-1<e?t[e]:null)&&qr(n))}function qr(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Cr])Rr(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Hr(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Wr(t))?(Rr(n,e),0==n.h&&(n.src=null,t[Fr]=null)):Ar(e)}}}function Hr(e){return e in Vr?Vr[e]:Vr[e]="on"+e}function Kr(e,t){if(e.fa)e=!0;else{t=new xr(t,this);var n=e.listener,r=e.la||e.src;e.ia&&qr(e),e=n.call(r,t)}return e}function Wr(e){return(e=e[Fr])instanceof Lr?e:null}var Qr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gr(e){return"function"===typeof e?e:(e[Qr]||(e[Qr]=function(t){return e.handleEvent(t)}),e[Qr])}function $r(){er.call(this),this.i=new Lr(this),this.S=this,this.J=null}function Xr(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ir(t,e);else if(t instanceof ir)t.target=t.target||e;else{var i=t;Or(t=new ir(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Yr(o,r,!0,t)&&i}if(i=Yr(o=t.g=e,r,!0,t)&&i,i=Yr(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Yr(o=t.g=n[a],r,!1,t)&&i}function Yr(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&Rr(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Zn($r,er),$r.prototype[Cr]=!0,$r.prototype.removeEventListener=function(e,t,n,r){Br(this,e,t,n,r)},$r.prototype.N=function(){if($r.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ar(n[r]);delete t.g[e],t.h--}}this.J=null},$r.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$r.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Jr=Hn.JSON.stringify,Zr=function(){function e(t,n){E(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return x(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function ei(){var e=si,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ti=function(){function e(){E(this,e),this.h=this.g=null}return x(e,[{key:"add",value:function(e,t){var n=ni.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),ni=new Zr((function(){return new ri}),(function(e){return e.reset()})),ri=function(){function e(){E(this,e),this.next=this.g=this.h=null}return x(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function ii(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function ai(e){Hn.setTimeout((function(){throw e}),0)}var oi,ui=!1,si=new ti,li=function(){var e=Hn.Promise.resolve(void 0);oi=function(){e.then(ci)}},ci=function(){for(var e;e=ei();){try{e.h.call(e.g)}catch(n){ai(n)}var t=ni;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ui=!1};function fi(e,t){$r.call(this),this.h=e||1,this.g=t||Hn,this.j=Yn(this.qb,this),this.l=Date.now()}function hi(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function di(e,t,n){if("function"===typeof e)n&&(e=Yn(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Yn(e.handleEvent,e)}return 2147483647<Number(t)?-1:Hn.setTimeout(e,t||0)}function pi(e){e.g=di((function(){e.g=null,e.i&&(e.i=!1,pi(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Zn(fi,$r),(jn=fi.prototype).ga=!1,jn.T=null,jn.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xr(this,"tick"),this.ga&&(hi(this),this.start()))}},jn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},jn.N=function(){fi.$.N.call(this),hi(this),delete this.g};var vi=function(e){C(n,e);var t=N(n);function n(e,r){var i;return E(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return x(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:pi(this)}},{key:"N",value:function(){lt(T(n.prototype),"N",this).call(this),this.g&&(Hn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(er);function yi(e){er.call(this),this.h=e,this.g={}}Zn(yi,er);var mi=[];function gi(e,t,n,r){Array.isArray(n)||(n&&(mi[0]=n.toString()),n=mi);for(var i=0;i<n.length;i++){var a=Ur(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ki(e){Nr(e.g,(function(e,t){this.g.hasOwnProperty(t)&&qr(e)}),e),e.g={}}function bi(){this.g=!0}function wi(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Jr(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}yi.prototype.N=function(){yi.$.N.call(this),ki(this)},yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bi.prototype.Ea=function(){this.g=!1},bi.prototype.info=function(){};var Ei={},Si=null;function xi(){return Si=Si||new $r}function _i(e){ir.call(this,Ei.Ta,e)}function Ci(e){var t=xi();Xr(t,new _i(t))}function Ti(e,t){ir.call(this,Ei.STAT_EVENT,e),this.stat=t}function Ii(e){var t=xi();Xr(t,new Ti(t,e))}function Ai(e,t){ir.call(this,Ei.Ua,e),this.size=t}function Ni(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Hn.setTimeout((function(){e()}),t)}Ei.Ta="serverreachability",Zn(_i,ir),Ei.STAT_EVENT="statevent",Zn(Ti,ir),Ei.Ua="timingevent",Zn(Ai,ir);var Di={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Pi={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Oi(){}function Li(e){return e.h||(e.h=e.i())}function Ri(){}Oi.prototype.h=null;var Mi,Fi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Vi(){ir.call(this,"d")}function Ui(){ir.call(this,"c")}function ji(){}function zi(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new yi(this),this.P=qi,e=vr?125:void 0,this.V=new fi(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Bi}function Bi(){this.i=null,this.g="",this.h=!1}Zn(Vi,ir),Zn(Ui,ir),Zn(ji,Oi),ji.prototype.g=function(){return new XMLHttpRequest},ji.prototype.i=function(){return{}},Mi=new ji;var qi=45e3,Hi={},Ki={};function Wi(e,t,n){e.L=1,e.v=fa(oa(t)),e.s=n,e.S=!0,Qi(e,null)}function Qi(e,t){e.G=Date.now(),Yi(e),e.A=oa(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),xa(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Bi,e.g=Co(e.l,n?t:null,!e.s),0<e.O&&(e.M=new vi(Yn(e.Pa,e,e.g),e.O)),gi(e.U,e.g,"readystatechange",e.nb),t=e.I?Dr(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Ci(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var l=u[s].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Gi(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function $i(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Xi(e,n))==Ki){4==t&&(e.o=4,Ii(14),i=!1),wi(e.j,e.m,null,"[Incomplete Response]");break}if(r==Hi){e.o=4,Ii(15),wi(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}wi(e.j,e.m,r,null),na(e,r)}Gi(e)&&r!=Ki&&r!=Hi&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ii(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),go(t),t.M=!0,Ii(11))):(wi(e.j,e.m,n,"[Invalid Chunked Response]"),ta(e),ea(e))}function Xi(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ki:(n=Number(t.substring(n,r)),isNaN(n)?Hi:(r+=1)+n>t.length?Ki:(t=t.slice(r,r+n),e.C=r+n,t))}function Yi(e){e.Y=Date.now()+e.P,Ji(e,e.P)}function Ji(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ni(Yn(e.lb,e),t)}function Zi(e){e.B&&(Hn.clearTimeout(e.B),e.B=null)}function ea(e){0==e.l.H||e.J||wo(e.l,e)}function ta(e){Zi(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,hi(e.V),ki(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function na(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Da(n.i,e)))if(!e.K&&Da(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;bo(n),lo(n)}mo(n),Ii(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ni(Yn(n.ib,n),6e3));if(1>=Na(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else So(n,11)}else if((e.K||n.g==e)&&bo(n),!or(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.i;f.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Pa(f,f.h),f.h=null))}if(r.F){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,ca(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=_o(r,r.J?r.pa:null,r.Y),d.K){Oa(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(Zi(p),Yi(p)),r.g=d}else yo(r);0<n.j.length&&fo(n)}else"stop"!=a[0]&&"close"!=a[0]||So(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?So(n,7):so(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Ci()}catch(a){}}function ra(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Kn(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Kn(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Kn(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(jn=zi.prototype).setTimeout=function(e){this.P=e},jn.nb=function(e){e=e.target;var t=this.M;t&&3==no(e)?t.l():this.Pa(e)},jn.Pa=function(e){try{if(e==this.g)e:{var t=no(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||vr||this.g&&(this.h.h||this.g.ja()||ro(this.g)))){this.J||4!=t||7==n||Ci(),Zi(this);var r=this.g.da();this.ca=r;t:if(Gi(this)){var i=ro(this.g);e="";var a=i.length,o=4==no(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ta(this),ea(this);var u="";break t}this.h.i=new Hn.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!or(s)){var c=s;break t}}c=null}if(!(r=c)){this.i=!1,this.o=3,Ii(12),ta(this),ea(this);break e}wi(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,na(this,r)}this.S?($i(this,t,u),vr&&this.i&&3==t&&(gi(this.U,this.V,"tick",this.mb),this.V.start())):(wi(this.j,this.m,u,null),na(this,u)),4==t&&ta(this),this.i&&!this.J&&(4==t?wo(this.l,this):(this.i=!1,Yi(this)))}else(function(e){var t={};e=(e.g&&2<=no(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!or(e[n])){var r=ii(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Ii(12)):(this.o=0,Ii(13)),ta(this),ea(this)}}}catch(t){}},jn.mb=function(){if(this.g){var e=no(this.g),t=this.g.ja();this.C<t.length&&(Zi(this),$i(this,e,t),this.i&&4!=e&&Yi(this))}},jn.cancel=function(){this.J=!0,ta(this)},jn.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Ci(),Ii(17)),ta(this),this.o=2,ea(this)):Ji(this,this.Y-e)};var ia=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof aa){this.h=e.h,ua(this,e.j),this.s=e.s,this.g=e.g,sa(this,e.m),this.l=e.l;var t=e.i,n=new ba;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),la(this,n),this.o=e.o}else e&&(t=String(e).match(ia))?(this.h=!1,ua(this,t[1]||"",!0),this.s=ha(t[2]||""),this.g=ha(t[3]||"",!0),sa(this,t[4]),this.l=ha(t[5]||"",!0),la(this,t[6]||"",!0),this.o=ha(t[7]||"")):(this.h=!1,this.i=new ba(null,this.h))}function oa(e){return new aa(e)}function ua(e,t,n){e.j=n?ha(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function sa(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function la(e,t,n){t instanceof ba?(e.i=t,function(e,t){t&&!e.j&&(wa(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ea(this,t),xa(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=da(t,ga)),e.i=new ba(t,e.h))}function ca(e,t,n){e.i.set(t,n)}function fa(e){return ca(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ha(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function da(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pa),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pa(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}aa.prototype.toString=function(){var e=[],t=this.j;t&&e.push(da(t,va,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(da(t,va,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(da(n,"/"==n.charAt(0)?ma:ya,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",da(n,ka)),e.join("")};var va=/[#\/\?@]/g,ya=/[#\?:]/g,ma=/[#\?]/g,ga=/[#\?@]/g,ka=/#/g;function ba(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wa(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ea(e,t){wa(e),t=_a(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Sa(e,t){return wa(e),t=_a(e,t),e.g.has(t)}function xa(e,t,n){Ea(e,t),0<n.length&&(e.i=null,e.g.set(_a(e,t),nr(n)),e.h+=n.length)}function _a(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(jn=ba.prototype).add=function(e,t){wa(this),this.i=null,e=_a(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},jn.forEach=function(e,t){wa(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},jn.ta=function(){wa(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},jn.Z=function(e){wa(this);var t=[];if("string"===typeof e)Sa(this,e)&&(t=t.concat(this.g.get(_a(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},jn.set=function(e,t){return wa(this),this.i=null,Sa(this,e=_a(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},jn.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},jn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Ca=x((function e(t,n){E(this,e),this.g=t,this.map=n}));function Ta(e){this.l=e||Ia,Hn.PerformanceNavigationTiming?e=0<(e=Hn.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Hn.g&&Hn.g.Ka&&Hn.g.Ka()&&Hn.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ia=10;function Aa(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Na(e){return e.h?1:e.g?e.g.size:0}function Da(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Pa(e,t){e.g?e.g.add(t):e.h=t}function Oa(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function La(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=O(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return nr(e.i)}Ta.prototype.cancel=function(){if(this.i=La(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=O(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Ra,Ma=function(){function e(){E(this,e)}return x(e,[{key:"stringify",value:function(e){return Hn.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Hn.JSON.parse(e,void 0)}}]),e}();function Fa(){this.g=new Ma}function Va(e,t,n){var r=n||"";try{ra(e,(function(e,n){var i=e;Wn(e)&&(i=Jr(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ua(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function ja(e){this.l=e.fc||null,this.j=e.ob||!1}function za(e,t){$r.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Ba,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zn(ja,Oi),ja.prototype.g=function(){return new za(this.l,this.j)},ja.prototype.i=(Ra={},function(){return Ra}),Zn(za,$r);var Ba=0;function qa(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Ha(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ka(e)}function Ka(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(jn=za.prototype).open=function(e,t){if(this.readyState!=Ba)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ka(this)},jn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Hn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},jn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ha(this)),this.readyState=Ba},jn.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ka(this)),this.g&&(this.readyState=3,Ka(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Hn.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qa(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},jn.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ha(this):Ka(this),3==this.readyState&&qa(this)}},jn.Za=function(e){this.g&&(this.response=this.responseText=e,Ha(this))},jn.Ya=function(e){this.g&&(this.response=e,Ha(this))},jn.ka=function(){this.g&&Ha(this)},jn.setRequestHeader=function(e,t){this.v.append(e,t)},jn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},jn.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(za.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Wa=Hn.JSON.parse;function Qa(e){$r.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ga,this.L=this.M=!1}Zn(Qa,$r);var Ga="",$a=/^https?$/i,Xa=["POST","PUT"];function Ya(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ja(e),eo(e)}function Ja(e){e.F||(e.F=!0,Xr(e,"complete"),Xr(e,"error"))}function Za(e){if(e.h&&"undefined"!=typeof qn&&(!e.C[1]||4!=no(e)||2!=e.da()))if(e.v&&4==no(e))di(e.La,0,e);else if(Xr(e,"readystatechange"),4==no(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(ia)[1]||null;!a&&Hn.self&&Hn.self.location&&(a=Hn.self.location.protocol.slice(0,-1)),i=!$a.test(a?a.toLowerCase():"")}t=i}if(t)Xr(e,"complete"),Xr(e,"success");else{e.m=6;try{var o=2<no(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.da()+"]",Ja(e)}}finally{eo(e)}}}function eo(e,t){if(e.g){to(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Xr(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function to(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Hn.clearTimeout(e.A),e.A=null)}function no(e){return e.g?e.g.readyState:0}function ro(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Ga:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(fu){return null}}function io(e){var t="";return Nr(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ao(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=io(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ca(e,t,n))}function oo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function uo(e){this.Ga=0,this.j=[],this.l=new bi,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=oo("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=oo("baseRetryDelayMs",5e3,e),this.hb=oo("retryDelaySeedMs",1e4,e),this.eb=oo("forwardChannelMaxRetries",2,e),this.xa=oo("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ta(e&&e.concurrentRequestLimit),this.Ja=new Fa,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function so(e){if(co(e),3==e.H){var t=e.W++,n=oa(e.I);if(ca(n,"SID",e.K),ca(n,"RID",t),ca(n,"TYPE","terminate"),po(e,n),(t=new zi(e,e.l,t)).L=2,t.v=fa(oa(n)),n=!1,Hn.navigator&&Hn.navigator.sendBeacon)try{n=Hn.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Hn.Image&&((new Image).src=t.v,n=!0),n||(t.g=Co(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Yi(t)}xo(e)}function lo(e){e.g&&(go(e),e.g.cancel(),e.g=null)}function co(e){lo(e),e.u&&(Hn.clearTimeout(e.u),e.u=null),bo(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Hn.clearTimeout(e.m),e.m=null)}function fo(e){if(!Aa(e.i)&&!e.m){e.m=!0;var t=e.Na;oi||li(),ui||(oi(),ui=!0),si.add(t,e),e.C=0}}function ho(e,t){var n;n=t?t.m:e.W++;var r=oa(e.I);ca(r,"SID",e.K),ca(r,"RID",n),ca(r,"AID",e.V),po(e,r),e.o&&e.s&&ao(r,e.o,e.s),n=new zi(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=vo(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Pa(e.i,n),Wi(n,r,t)}function po(e,t){e.na&&Nr(e.na,(function(e,n){ca(t,n,e)})),e.h&&ra({},(function(e,n){ca(t,n,e)}))}function vo(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Yn(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var l=i[s].g,c=i[s].map;if(0>(l-=a))a=Math.max(0,i[s].g-100),u=!1;else try{Va(c,o,"req"+l+"_")}catch(f){r&&r(c)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function yo(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;oi||li(),ui||(oi(),ui=!0),si.add(t,e),e.A=0}}function mo(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Ni(Yn(e.Ma,e),Eo(e,e.A)),e.A++,!0)}function go(e){null!=e.B&&(Hn.clearTimeout(e.B),e.B=null)}function ko(e){e.g=new zi(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=oa(e.wa);ca(t,"RID","rpc"),ca(t,"SID",e.K),ca(t,"AID",e.V),ca(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ca(t,"TO",e.qa),ca(t,"TYPE","xmlhttp"),po(e,t),e.o&&e.s&&ao(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=fa(oa(t)),n.s=null,n.S=!0,Qi(n,e)}function bo(e){null!=e.v&&(Hn.clearTimeout(e.v),e.v=null)}function wo(e,t){var n=null;if(e.g==t){bo(e),go(e),e.g=null;var r=2}else{if(!Da(e.i,t))return;n=t.F,Oa(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Xr(r=xi(),new Ai(r,n)),fo(e)}else yo(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Na(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Ni(Yn(e.Na,e,t),Eo(e,e.C)),e.C++,!0))}(e,t)||2==r&&mo(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:So(e,5);break;case 4:So(e,10);break;case 3:So(e,6);break;default:So(e,2)}}function Eo(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function So(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Yn(e.pb,e);n||(n=new aa("//www.google.com/images/cleardot.gif"),Hn.location&&"http"==Hn.location.protocol||ua(n,"https"),fa(n)),function(e,t){var n=new bi;if(Hn.Image){var r=new Image;r.onload=Jn(Ua,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Jn(Ua,n,r,"TestLoadImage: error",!1,t),r.onabort=Jn(Ua,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Jn(Ua,n,r,"TestLoadImage: timeout",!1,t),Hn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ii(2);e.H=0,e.h&&e.h.za(t),xo(e),co(e)}function xo(e){if(e.H=0,e.ma=[],e.h){var t=La(e.i);0==t.length&&0==e.j.length||(rr(e.ma,t),rr(e.ma,e.j),e.i.i.length=0,nr(e.j),e.j.length=0),e.h.ya()}}function _o(e,t,n){var r=n instanceof aa?oa(n):new aa(n);if(""!=r.g)t&&(r.g=t+"."+r.g),sa(r,r.m);else{var i=Hn.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new aa(null);r&&ua(a,r),t&&(a.g=t),i&&sa(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&ca(r,n,t),ca(r,"VER",e.ra),po(e,r),r}function Co(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Qa(new ja({ob:!0})):new Qa(e.va)).Oa(e.J),t}function To(){}function Io(){if(dr&&!(10<=Number(Sr)))throw Error("Environmental error: no available transport.")}function Ao(e,t){$r.call(this),this.g=new uo(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!or(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!or(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Po(this)}function No(e){Vi.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Do(){Ui.call(this),this.status=1}function Po(e){this.g=e}function Oo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Lo(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Ro(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(jn=Qa.prototype).Oa=function(e){this.M=e},jn.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Mi.g(),this.C=this.u?Li(this.u):Li(Mi),this.g.onreadystatechange=Yn(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void Ya(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=O(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Hn.FormData&&e instanceof Hn.FormData,!(0<=tr(Xa,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,l=O(n);try{for(l.s();!(s=l.n()).done;){var c=y(s.value,2),f=c[0],h=c[1];this.g.setRequestHeader(f,h)}}catch(d){l.e(d)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{to(this),0<this.B&&((this.L=function(e){return dr&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yn(this.ua,this)):this.A=di(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Ya(this,u)}},jn.ua=function(){"undefined"!=typeof qn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xr(this,"timeout"),this.abort(8))},jn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Xr(this,"complete"),Xr(this,"abort"),eo(this))},jn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),eo(this,!0)),Qa.$.N.call(this)},jn.La=function(){this.s||(this.G||this.v||this.l?Za(this):this.kb())},jn.kb=function(){Za(this)},jn.isActive=function(){return!!this.g},jn.da=function(){try{return 2<no(this)?this.g.status:-1}catch(Ra){return-1}},jn.ja=function(){try{return this.g?this.g.responseText:""}catch(Ra){return""}},jn.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Wa(t)}},jn.Ia=function(){return this.m},jn.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(jn=uo.prototype).ra=8,jn.H=1,jn.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new zi(this,this.l,e),n=this.s;if(this.U&&(n?Or(n=Dr(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=vo(this,t,r),ca(i=oa(this.I),"RID",e),ca(i,"CVER",22),this.F&&ca(i,"X-HTTP-Session-Id",this.F),po(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(io(n)))+"&"+r:this.o&&ao(i,this.o,n)),Pa(this.i,t),this.bb&&ca(i,"TYPE","init"),this.P?(ca(i,"$req",r),ca(i,"SID","null"),t.aa=!0,Wi(t,i,null)):Wi(t,i,r),this.H=2}}else 3==this.H&&(e?ho(this,e):0==this.j.length||Aa(this.i)||ho(this))},jn.Ma=function(){if(this.u=null,ko(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ni(Yn(this.jb,this),e)}},jn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ii(10),lo(this),ko(this))},jn.ib=function(){null!=this.v&&(this.v=null,lo(this),mo(this),Ii(19))},jn.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ii(2)):(this.l.info("Failed to ping google.com"),Ii(1))},jn.isActive=function(){return!!this.h&&this.h.isActive(this)},(jn=To.prototype).Ba=function(){},jn.Aa=function(){},jn.za=function(){},jn.ya=function(){},jn.isActive=function(){return!0},jn.Va=function(){},Io.prototype.g=function(e,t){return new Ao(e,t)},Zn(Ao,$r),Ao.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ii(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=_o(e,null,e.Y),fo(e)},Ao.prototype.close=function(){so(this.g)},Ao.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Jr(e),e=n);t.j.push(new Ca(t.fb++,e)),3==t.H&&fo(t)},Ao.prototype.N=function(){this.g.h=null,delete this.j,so(this.g),delete this.g,Ao.$.N.call(this)},Zn(No,Vi),Zn(Do,Ui),Zn(Po,To),Po.prototype.Ba=function(){Xr(this.g,"a")},Po.prototype.Aa=function(e){Xr(this.g,new No(e))},Po.prototype.za=function(e){Xr(this.g,new Do)},Po.prototype.ya=function(){Xr(this.g,"b")},Zn(Oo,(function(){this.blockSize=-1})),Oo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Oo.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Lo(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Lo(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Lo(this,r),i=0;break}}this.h=i,this.i+=t},Oo.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Mo={};function Fo(e){return-128<=e&&128>e?function(e,t){var n=Mo;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Ro([0|e],0>e?-1:0)})):new Ro([0|e],0>e?-1:0)}function Vo(e){if(isNaN(e)||!isFinite(e))return jo;if(0>e)return Ko(Vo(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Uo;return new Ro(t,0)}var Uo=4294967296,jo=Fo(0),zo=Fo(1),Bo=Fo(16777216);function qo(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Ho(e){return-1==e.h}function Ko(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ro(n,~e.h).add(zo)}function Wo(e,t){return e.add(Ko(t))}function Qo(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Go(e,t){this.g=e,this.h=t}function $o(e,t){if(qo(t))throw Error("division by zero");if(qo(e))return new Go(jo,jo);if(Ho(e))return t=$o(Ko(e),t),new Go(Ko(t.g),Ko(t.h));if(Ho(t))return t=$o(e,Ko(t)),new Go(Ko(t.g),t.h);if(30<e.g.length){if(Ho(e)||Ho(t))throw Error("slowDivide_ only works with positive integers.");for(var n=zo,r=t;0>=r.X(e);)n=Xo(n),r=Xo(r);var i=Yo(n,1),a=Yo(r,1);for(r=Yo(r,2),n=Yo(n,2);!qo(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Yo(r,1),n=Yo(n,1)}return t=Wo(e,i.R(t)),new Go(i,t)}for(i=jo;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Vo(n)).R(t);Ho(o)||0<o.X(e);)o=(a=Vo(n-=r)).R(t);qo(a)&&(a=zo),i=i.add(a),e=Wo(e,o)}return new Go(i,e)}function Xo(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ro(n,e.h)}function Yo(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Ro(i,e.h)}(jn=Ro.prototype).ea=function(){if(Ho(this))return-Ko(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Uo+r)*t,t*=Uo}return e},jn.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(qo(this))return"0";if(Ho(this))return"-"+Ko(this).toString(e);for(var t=Vo(Math.pow(e,6)),n=this,r="";;){var i=$o(n,t).g,a=((0<(n=Wo(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(qo(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},jn.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},jn.X=function(e){return Ho(e=Wo(this,e))?-1:qo(e)?0:1},jn.abs=function(){return Ho(this)?Ko(this):this},jn.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Ro(n,-2147483648&n[n.length-1]?-1:0)},jn.R=function(e){if(qo(this)||qo(e))return jo;if(Ho(this))return Ho(e)?Ko(this).R(Ko(e)):Ko(Ko(this).R(e));if(Ho(e))return Ko(this.R(Ko(e)));if(0>this.X(Bo)&&0>e.X(Bo))return Vo(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,Qo(n,2*r+2*i),n[2*r+2*i+1]+=a*s,Qo(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,Qo(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,Qo(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ro(n,0)},jn.gb=function(e){return $o(this,e).h},jn.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ro(n,this.h&e.h)},jn.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ro(n,this.h|e.h)},jn.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ro(n,this.h^e.h)},Io.prototype.createWebChannel=Io.prototype.g,Ao.prototype.send=Ao.prototype.u,Ao.prototype.open=Ao.prototype.m,Ao.prototype.close=Ao.prototype.close,Di.NO_ERROR=0,Di.TIMEOUT=8,Di.HTTP_ERROR=6,Pi.COMPLETE="complete",Ri.EventType=Fi,Fi.OPEN="a",Fi.CLOSE="b",Fi.ERROR="c",Fi.MESSAGE="d",$r.prototype.listen=$r.prototype.O,Qa.prototype.listenOnce=Qa.prototype.P,Qa.prototype.getLastError=Qa.prototype.Sa,Qa.prototype.getLastErrorCode=Qa.prototype.Ia,Qa.prototype.getStatus=Qa.prototype.da,Qa.prototype.getResponseJson=Qa.prototype.Wa,Qa.prototype.getResponseText=Qa.prototype.ja,Qa.prototype.send=Qa.prototype.ha,Qa.prototype.setWithCredentials=Qa.prototype.Oa,Oo.prototype.digest=Oo.prototype.l,Oo.prototype.reset=Oo.prototype.reset,Oo.prototype.update=Oo.prototype.j,Ro.prototype.add=Ro.prototype.add,Ro.prototype.multiply=Ro.prototype.R,Ro.prototype.modulo=Ro.prototype.gb,Ro.prototype.compare=Ro.prototype.X,Ro.prototype.toNumber=Ro.prototype.ea,Ro.prototype.toString=Ro.prototype.toString,Ro.prototype.getBits=Ro.prototype.D,Ro.fromNumber=Vo,Ro.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Ko(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Vo(Math.pow(n,8)),i=jo,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=Vo(Math.pow(n,o)),i=i.R(o).add(Vo(u))):i=(i=i.R(r)).add(Vo(u))}return i};var Jo=Bn.createWebChannelTransport=function(){return new Io},Zo=Bn.getStatEventTarget=function(){return xi()},eu=Bn.ErrorCode=Di,tu=Bn.EventType=Pi,nu=Bn.Event=Ei,ru=Bn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},iu=Bn.FetchXmlHttpFactory=ja,au=Bn.WebChannel=Ri,ou=Bn.XhrIo=Qa,uu=Bn.Md5=Oo,su=Bn.Integer=Ro,lu="@firebase/firestore",cu=function(){function e(t){E(this,e),this.uid=t}return x(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();cu.UNAUTHENTICATED=new cu(null),cu.GOOGLE_CREDENTIALS=new cu("google-credentials-uid"),cu.FIRST_PARTY=new cu("first-party-uid"),cu.MOCK_USER=new cu("mock-user");var fu="10.1.0",hu=new zt("@firebase/firestore");function du(){return hu.logLevel}function pu(e){if(hu.logLevel<=Lt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(mu);hu.debug.apply(hu,["Firestore (".concat(fu,"): ").concat(e)].concat(d(i)))}}function vu(e){if(hu.logLevel<=Lt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(mu);hu.error.apply(hu,["Firestore (".concat(fu,"): ").concat(e)].concat(d(i)))}}function yu(e){if(hu.logLevel<=Lt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(mu);hu.warn.apply(hu,["Firestore (".concat(fu,"): ").concat(e)].concat(d(i)))}}function mu(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function gu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(fu,") INTERNAL ASSERTION FAILED: ")+e;throw vu(t),new Error(t)}function ku(e,t){e||gu()}function bu(e,t){return e}var wu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Eu=function(e){C(n,e);var t=N(n);function n(e,r){var i;return E(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return x(n)}(xt),Su=x((function e(){var t=this;E(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),xu=x((function e(t,n){E(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),_u=function(){function e(){E(this,e)}return x(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(cu.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Cu=function(){function e(t){E(this,e),this.token=t,this.changeListener=null}return x(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Tu=function(){function e(t){E(this,e),this.t=t,this.currentUser=cu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return x(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Su;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Su,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ht(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){pu("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(pu("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Su)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(pu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ku("string"==typeof n.accessToken),new xu(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ku(null===e||"string"==typeof e),new cu(e)}}]),e}(),Iu=function(){function e(t,n,r){E(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=cu.FIRST_PARTY,this.I=new Map}return x(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),Au=function(){function e(t,n,r){E(this,e),this.l=t,this.h=n,this.P=r}return x(e,[{key:"getToken",value:function(){return Promise.resolve(new Iu(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(cu.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Nu=x((function e(t){E(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Du=function(){function e(t){E(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return x(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&pu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,pu("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){pu("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):pu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ku("string"==typeof t.token),e.R=t.token,new Nu(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Pu(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ou=function(){function e(){E(this,e)}return x(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Pu(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Lu(e,t){return e<t?-1:e>t?1:0}function Ru(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Mu=function(){function e(t,n){if(E(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Eu(wu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Eu(wu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Eu(wu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Eu(wu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return x(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Lu(this.nanoseconds,e.nanoseconds):Lu(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Fu=function(){function e(t){E(this,e),this.timestamp=t}return x(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Mu(0,0))}},{key:"max",value:function(){return new e(new Mu(253402300799,999999999))}}]),e}(),Vu=function(){function e(t,n,r){E(this,e),void 0===n?n=0:n>t.length&&gu(),void 0===r?r=t.length-n:r>t.length-n&&gu(),this.segments=t,this.offset=n,this.len=r}return x(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Uu=function(e){C(n,e);var t=N(n);function n(){return E(this,n),t.apply(this,arguments)}return x(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Eu(wu.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,d(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Vu),ju=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zu=function(e){C(n,e);var t=N(n);function n(){return E(this,n),t.apply(this,arguments)}return x(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ju.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Eu(wu.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Eu(wu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Eu(wu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Eu(wu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Vu),Bu=function(){function e(t){E(this,e),this.path=t}return x(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Uu.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Uu.fromString(t))}},{key:"fromName",value:function(t){return new e(Uu.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Uu.emptyPath())}},{key:"comparator",value:function(e,t){return Uu.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Uu(t.slice()))}}]),e}(),qu=x((function e(t,n,r,i){E(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));qu.UNKNOWN_ID=-1;function Hu(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Fu.fromTimestamp(1e9===r?new Mu(n+1,0):new Mu(n,r));return new Wu(i,Bu.empty(),t)}function Ku(e){return new Wu(e.readTime,e.key,-1)}var Wu=function(){function e(t,n,r){E(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return x(e,null,[{key:"min",value:function(){return new e(Fu.min(),Bu.empty(),-1)}},{key:"max",value:function(){return new e(Fu.max(),Bu.empty(),-1)}}]),e}();function Qu(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Bu.comparator(e.documentKey,t.documentKey))?n:Lu(e.largestBatchId,t.largestBatchId)}var Gu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$u=function(){function e(){E(this,e),this.onCommittedListeners=[]}return x(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Xu(e){return Yu.apply(this,arguments)}function Yu(){return(Yu=ht(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===wu.FAILED_PRECONDITION&&t.message===Gu){e.next=2;break}throw t;case 2:pu("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ju=function(){function e(t){var n=this;E(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return x(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&gu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=O(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function Zu(e){return"IndexedDbTransactionError"===e.name}var es=function(){function e(t,n){var r=this;E(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return x(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function ts(e){return null==e}function ns(e){return 0===e&&1/e==-1/0}function rs(e){return"number"==typeof e&&Number.isInteger(e)&&!ns(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}es.ae=-1;var is=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),as=([].concat(d(is),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),os=as;[].concat(os,["indexConfiguration","indexState","indexEntries"]);function us(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ss(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ls(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var cs=function(){function e(t,n){E(this,e),this.comparator=t,this.root=n||hs.EMPTY}return x(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,hs.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,hs.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new fs(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new fs(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new fs(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new fs(this.root,e,this.comparator,!0)}}]),e}(),fs=function(){function e(t,n,r,i){E(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return x(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),hs=function(){function e(t,n,r,i,a){E(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return x(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw gu();if(this.right.isRed())throw gu();var e=this.left.check();if(e!==this.right.check())throw gu();return e+(this.isRed()?0:1)}}]),e}();hs.EMPTY=null,hs.RED=!0,hs.BLACK=!1,hs.EMPTY=new(function(){function e(){E(this,e),this.size=0}return x(e,[{key:"key",get:function(){throw gu()}},{key:"value",get:function(){throw gu()}},{key:"color",get:function(){throw gu()}},{key:"left",get:function(){throw gu()}},{key:"right",get:function(){throw gu()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new hs(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ds=function(){function e(t){E(this,e),this.comparator=t,this.data=new cs(this.comparator)}return x(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ps(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ps(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ps=function(){function e(t){E(this,e),this.iter=t}return x(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var vs=function(){function e(t){E(this,e),this.fields=t,t.sort(zu.comparator)}return x(e,[{key:"unionWith",value:function(t){var n,r=new ds(zu.comparator),i=O(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,u=O(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(l){u.e(l)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=O(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ru(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),ys=function(e){C(n,e);var t=N(n);function n(){var e;return E(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return x(n)}(P(Error));var ms=function(e){function t(e){E(this,t),this.binaryString=e}return x(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Lu(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ys("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();ms.EMPTY_BYTE_STRING=new ms("");var gs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(e){if(ku(!!e),"string"==typeof e){var t=0,n=gs.exec(e);if(ku(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:bs(e.seconds),nanos:bs(e.nanos)}}function bs(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ws(e){return"string"==typeof e?ms.fromBase64String(e):ms.fromUint8Array(e)}function Es(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ss(e){var t=e.mapValue.fields.__previous_value__;return Es(t)?Ss(t):t}function xs(e){var t=ks(e.mapValue.fields.__local_write_time__.timestampValue);return new Mu(t.seconds,t.nanos)}var _s=x((function e(t,n,r,i,a,o,u,s,l){E(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=l})),Cs=function(){function e(t,n){E(this,e),this.projectId=t,this.database=n||"(default)"}return x(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Ts={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Is(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Es(e)?4:Bs(e)?9007199254740991:10:gu()}function As(e,t){if(e===t)return!0;var n=Is(e);if(n!==Is(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xs(e).isEqual(xs(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ks(e.timestampValue),r=ks(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ws(e.bytesValue).isEqual(ws(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return bs(e.geoPointValue.latitude)===bs(t.geoPointValue.latitude)&&bs(e.geoPointValue.longitude)===bs(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return bs(e.integerValue)===bs(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=bs(e.doubleValue),r=bs(t.doubleValue);return n===r?ns(n)===ns(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ru(e.arrayValue.values||[],t.arrayValue.values||[],As);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(us(n)!==us(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!As(n[i],r[i])))return!1;return!0}(e,t);default:return gu()}}function Ns(e,t){return void 0!==(e.values||[]).find((function(e){return As(e,t)}))}function Ds(e,t){if(e===t)return 0;var n=Is(e),r=Is(t);if(n!==r)return Lu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lu(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=bs(e.integerValue||e.doubleValue),r=bs(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ps(e.timestampValue,t.timestampValue);case 4:return Ps(xs(e),xs(t));case 5:return Lu(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ws(e),r=ws(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Lu(n[i],r[i]);if(0!==a)return a}return Lu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Lu(bs(e.latitude),bs(t.latitude));return 0!==n?n:Lu(bs(e.longitude),bs(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Ds(n[i],r[i]);if(a)return a}return Lu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ts.mapValue&&t===Ts.mapValue)return 0;if(e===Ts.mapValue)return 1;if(t===Ts.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Lu(r[o],a[o]);if(0!==u)return u;var s=Ds(n[r[o]],i[a[o]]);if(0!==s)return s}return Lu(r.length,a.length)}(e.mapValue,t.mapValue);default:throw gu()}}function Ps(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Lu(e,t);var n=ks(e),r=ks(t),i=Lu(n.seconds,r.seconds);return 0!==i?i:Lu(n.nanos,r.nanos)}function Os(e){return Ls(e)}function Ls(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ks(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ws(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Bu.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=O(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Ls(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=O(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Ls(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):gu()}function Rs(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ms(e){return!!e&&"integerValue"in e}function Fs(e){return!!e&&"arrayValue"in e}function Vs(e){return!!e&&"nullValue"in e}function Us(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function js(e){return!!e&&"mapValue"in e}function zs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ss(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=zs(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=zs(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Bs(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var qs=function(){function e(t){E(this,e),this.value=t}return x(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!js(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zs(t)}},{key:"setAll",value:function(e){var t=this,n=zu.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=zs(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());js(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return As(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];js(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ss(t,(function(t,n){return e[t]=n}));var r,i=O(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(zs(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Hs(e){var t=[];return ss(e.fields,(function(e,n){var r=new zu([e]);if(js(n)){var i=Hs(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=O(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new vs(t)}var Ks=function(){function e(t,n,r,i,a,o,u){E(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return x(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Fu.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=qs.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=qs.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Fu.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Fu.min(),Fu.min(),Fu.min(),qs.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Fu.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Fu.min(),Fu.min(),qs.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Fu.min(),Fu.min(),qs.empty(),2)}}]),e}(),Ws=x((function e(t,n){E(this,e),this.position=t,this.inclusive=n}));function Qs(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Bu.comparator(Bu.fromName(o.referenceValue),n.key):Ds(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Gs(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!As(e.position[n],t.position[n]))return!1;return!0}var $s=x((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";E(this,e),this.field=t,this.dir=n}));function Xs(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Ys=x((function e(){E(this,e)})),Js=function(e){C(n,e);var t=N(n);function n(e,r,i){var a;return E(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return x(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ds(t,this.value)):null!==t&&Is(this.value)===Is(t)&&this.matchesComparison(Ds(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gu()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ol(e,t,r):"array-contains"===t?new cl(e,r):"in"===t?new fl(e,r):"not-in"===t?new hl(e,r):"array-contains-any"===t?new dl(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new ul(e,n):new sl(e,n)}}]),n}(Ys),Zs=function(e){C(n,e);var t=N(n);function n(e,r){var i;return E(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return x(n,[{key:"matches",value:function(e){return el(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.le((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"le",value:function(e){var t,n=O(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Ys);function el(e){return"and"===e.op}function tl(e){return nl(e)&&el(e)}function nl(e){var t,n=O(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Zs)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function rl(e){if(e instanceof Js)return e.field.canonicalString()+e.op.toString()+Os(e.value);if(tl(e))return e.filters.map((function(e){return rl(e)})).join(",");var t=e.filters.map((function(e){return rl(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function il(e,t){return e instanceof Js?function(e,t){return t instanceof Js&&e.op===t.op&&e.field.isEqual(t.field)&&As(e.value,t.value)}(e,t):e instanceof Zs?function(e,t){return t instanceof Zs&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&il(n,t.filters[r])}),!0)}(e,t):void gu()}function al(e){return e instanceof Js?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Os(e.value))}(e):e instanceof Zs?function(e){return e.op.toString()+" {"+e.getFilters().map(al).join(" ,")+"}"}(e):"Filter"}var ol=function(e){C(n,e);var t=N(n);function n(e,r,i){var a;return E(this,n),(a=t.call(this,e,r,i)).key=Bu.fromName(i.referenceValue),a}return x(n,[{key:"matches",value:function(e){var t=Bu.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Js),ul=function(e){C(n,e);var t=N(n);function n(e,r){var i;return E(this,n),(i=t.call(this,e,"in",r)).keys=ll("in",r),i}return x(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Js),sl=function(e){C(n,e);var t=N(n);function n(e,r){var i;return E(this,n),(i=t.call(this,e,"not-in",r)).keys=ll("not-in",r),i}return x(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Js);function ll(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Bu.fromName(e.referenceValue)}))}var cl=function(e){C(n,e);var t=N(n);function n(e,r){return E(this,n),t.call(this,e,"array-contains",r)}return x(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Fs(t)&&Ns(t.arrayValue,this.value)}}]),n}(Js),fl=function(e){C(n,e);var t=N(n);function n(e,r){return E(this,n),t.call(this,e,"in",r)}return x(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ns(this.value.arrayValue,t)}}]),n}(Js),hl=function(e){C(n,e);var t=N(n);function n(e,r){return E(this,n),t.call(this,e,"not-in",r)}return x(n,[{key:"matches",value:function(e){if(Ns(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ns(this.value.arrayValue,t)}}]),n}(Js),dl=function(e){C(n,e);var t=N(n);function n(e,r){return E(this,n),t.call(this,e,"array-contains-any",r)}return x(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Fs(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ns(t.value.arrayValue,e)}))}}]),n}(Js),pl=x((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;E(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.he=null}));function vl(e){return new pl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function yl(e){var t=bu(e);if(null===t.he){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return rl(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ts(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Os(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Os(e)})).join(",")),t.he=n}return t.he}function ml(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Xs(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!il(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Gs(e.startAt,t.startAt)&&Gs(e.endAt,t.endAt)}function gl(e){return Bu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var kl=x((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;E(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.Pe=null,this.Ie=null,this.startAt,this.endAt}));function bl(e,t,n,r,i,a,o,u){return new kl(e,t,n,r,i,a,o,u)}function wl(e){return new kl(e)}function El(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Sl(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function xl(e){var t,n=O(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function _l(e){return null!==e.collectionGroup}function Cl(e){var t=bu(e);if(null===t.Pe){t.Pe=[];var n=xl(t),r=Sl(t);if(null!==n&&null===r)n.isKeyField()||t.Pe.push(new $s(n)),t.Pe.push(new $s(zu.keyField(),"asc"));else{var i,a=!1,o=O(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.Pe.push(u),u.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new $s(zu.keyField(),s))}}}return t.Pe}function Tl(e){var t=bu(e);if(!t.Ie)if("F"===t.limitType)t.Ie=vl(t.path,t.collectionGroup,Cl(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=O(Cl(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new $s(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var u=t.endAt?new Ws(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Ws(t.startAt.position,t.startAt.inclusive):null;t.Ie=vl(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.Ie}function Il(e,t){t.getFirstInequalityField(),xl(e);var n=e.filters.concat([t]);return new kl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Al(e,t,n){return new kl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Nl(e,t){return ml(Tl(e),Tl(t))&&e.limitType===t.limitType}function Dl(e){return"".concat(yl(Tl(e)),"|lt:").concat(e.limitType)}function Pl(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return al(e)})).join(", "),"]")),ts(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Os(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Os(e)})).join(",")),"Target(".concat(t,")")}(Tl(e)),"; limitType=").concat(e.limitType,")")}function Ol(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Bu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=O(Cl(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=O(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Qs(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Cl(e),t))&&!(e.endAt&&!function(e,t,n){var r=Qs(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Cl(e),t))}(e,t)}function Ll(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Rl(e){return function(t,n){var r,i=!1,a=O(Cl(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Ml(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Ml(e,t,n){var r=e.field.isKeyField()?Bu.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ds(r,i):gu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return gu()}}var Fl=function(){function e(t,n){E(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return x(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=O(n);try{for(i.s();!(r=i.n()).done;){var a=y(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ss(this.inner,(function(t,n){var r,i=O(n);try{for(i.s();!(r=i.n()).done;){var a=y(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ls(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Vl=new cs(Bu.comparator);function Ul(){return Vl}var jl=new cs(Bu.comparator);function zl(){for(var e=jl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Bl(e){var t=jl;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function ql(){return Kl()}function Hl(){return Kl()}function Kl(){return new Fl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Wl=new cs(Bu.comparator),Ql=new ds(Bu.comparator);function Gl(){for(var e=Ql,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var $l=new ds(Lu);function Xl(){return $l}function Yl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ns(t)?"-0":t}}function Jl(e){return{integerValue:""+e}}function Zl(e,t){return rs(t)?Jl(t):Yl(e,t)}var ec=x((function e(){E(this,e),this._=void 0}));function tc(e,t,n){return e instanceof ic?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Es(t)&&(t=Ss(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ac?oc(e,t):e instanceof uc?sc(e,t):function(e,t){var n=rc(e,t),r=cc(n)+cc(e.Te);return Ms(n)&&Ms(e.Te)?Jl(r):Yl(e.serializer,r)}(e,t)}function nc(e,t,n){return e instanceof ac?oc(e,t):e instanceof uc?sc(e,t):n}function rc(e,t){return e instanceof lc?function(e){return Ms(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var ic=function(e){C(n,e);var t=N(n);function n(){return E(this,n),t.apply(this,arguments)}return x(n)}(ec),ac=function(e){C(n,e);var t=N(n);function n(e){var r;return E(this,n),(r=t.call(this)).elements=e,r}return x(n)}(ec);function oc(e,t){var n,r=fc(t),i=O(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return As(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var uc=function(e){C(n,e);var t=N(n);function n(e){var r;return E(this,n),(r=t.call(this)).elements=e,r}return x(n)}(ec);function sc(e,t){var n,r=fc(t),i=O(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!As(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var lc=function(e){C(n,e);var t=N(n);function n(e,r){var i;return E(this,n),(i=t.call(this)).serializer=e,i.Te=r,i}return x(n)}(ec);function cc(e){return bs(e.integerValue||e.doubleValue)}function fc(e){return Fs(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var hc=x((function e(t,n){E(this,e),this.version=t,this.transformResults=n})),dc=function(){function e(t,n){E(this,e),this.updateTime=t,this.exists=n}return x(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function pc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var vc=x((function e(){E(this,e)}));function yc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ic(e.key,dc.none()):new wc(e.key,e.data,dc.none());var n,r=e.data,i=qs.empty(),a=new ds(zu.comparator),o=O(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(l){o.e(l)}finally{o.f()}return new Ec(e.key,i,new vs(a.toArray()),dc.none())}function mc(e,t,n){e instanceof wc?function(e,t,n){var r=e.value.clone(),i=xc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ec?function(e,t,n){if(pc(e.precondition,t)){var r=xc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Sc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function gc(e,t,n,r){return e instanceof wc?function(e,t,n,r){if(!pc(e.precondition,t))return n;var i=e.value.clone(),a=_c(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ec?function(e,t,n,r){if(!pc(e.precondition,t))return n;var i=_c(e.fieldTransforms,r,t),a=t.data;return a.setAll(Sc(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return pc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function kc(e,t){var n,r=null,i=O(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=rc(a.transform,o||null);null!=u&&(null===r&&(r=qs.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function bc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ru(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ac&&t instanceof ac||e instanceof uc&&t instanceof uc?Ru(e.elements,t.elements,As):e instanceof lc&&t instanceof lc?As(e.Te,t.Te):e instanceof ic&&t instanceof ic}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var wc=function(e){C(n,e);var t=N(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return E(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return x(n,[{key:"getFieldMask",value:function(){return null}}]),n}(vc),Ec=function(e){C(n,e);var t=N(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return E(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return x(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(vc);function Sc(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function xc(e,t,n){var r=new Map;ku(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,nc(o,u,n[i]))}return r}function _c(e,t,n){var r,i=new Map,a=O(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,tc(u,s,t))}}catch(l){a.e(l)}finally{a.f()}return i}var Cc,Tc,Ic=function(e){C(n,e);var t=N(n);function n(e,r){var i;return E(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return x(n,[{key:"getFieldMask",value:function(){return null}}]),n}(vc),Ac=function(e){C(n,e);var t=N(n);function n(e,r){var i;return E(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return x(n,[{key:"getFieldMask",value:function(){return null}}]),n}(vc),Nc=function(){function e(t,n,r,i){E(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return x(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&mc(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=O(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=gc(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=O(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=gc(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Hl();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=yc(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Fu.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Gl())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ru(this.mutations,e.mutations,(function(e,t){return bc(e,t)}))&&Ru(this.baseMutations,e.baseMutations,(function(e,t){return bc(e,t)}))}}]),e}(),Dc=function(){function e(t,n,r,i){E(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return x(e,null,[{key:"from",value:function(t,n,r){ku(t.mutations.length===r.length);for(var i=Wl,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Pc=function(){function e(t,n){E(this,e),this.largestBatchId=t,this.mutation=n}return x(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Oc=x((function e(t,n){E(this,e),this.count=t,this.unchangedNames=n}));function Lc(e){switch(e){default:return gu();case wu.CANCELLED:case wu.UNKNOWN:case wu.DEADLINE_EXCEEDED:case wu.RESOURCE_EXHAUSTED:case wu.INTERNAL:case wu.UNAVAILABLE:case wu.UNAUTHENTICATED:return!1;case wu.INVALID_ARGUMENT:case wu.NOT_FOUND:case wu.ALREADY_EXISTS:case wu.PERMISSION_DENIED:case wu.FAILED_PRECONDITION:case wu.ABORTED:case wu.OUT_OF_RANGE:case wu.UNIMPLEMENTED:case wu.DATA_LOSS:return!0}}function Rc(e){if(void 0===e)return vu("GRPC error has no .code"),wu.UNKNOWN;switch(e){case Cc.OK:return wu.OK;case Cc.CANCELLED:return wu.CANCELLED;case Cc.UNKNOWN:return wu.UNKNOWN;case Cc.DEADLINE_EXCEEDED:return wu.DEADLINE_EXCEEDED;case Cc.RESOURCE_EXHAUSTED:return wu.RESOURCE_EXHAUSTED;case Cc.INTERNAL:return wu.INTERNAL;case Cc.UNAVAILABLE:return wu.UNAVAILABLE;case Cc.UNAUTHENTICATED:return wu.UNAUTHENTICATED;case Cc.INVALID_ARGUMENT:return wu.INVALID_ARGUMENT;case Cc.NOT_FOUND:return wu.NOT_FOUND;case Cc.ALREADY_EXISTS:return wu.ALREADY_EXISTS;case Cc.PERMISSION_DENIED:return wu.PERMISSION_DENIED;case Cc.FAILED_PRECONDITION:return wu.FAILED_PRECONDITION;case Cc.ABORTED:return wu.ABORTED;case Cc.OUT_OF_RANGE:return wu.OUT_OF_RANGE;case Cc.UNIMPLEMENTED:return wu.UNIMPLEMENTED;case Cc.DATA_LOSS:return wu.DATA_LOSS;default:return gu()}}(Tc=Cc||(Cc={}))[Tc.OK=0]="OK",Tc[Tc.CANCELLED=1]="CANCELLED",Tc[Tc.UNKNOWN=2]="UNKNOWN",Tc[Tc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tc[Tc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tc[Tc.NOT_FOUND=5]="NOT_FOUND",Tc[Tc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tc[Tc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tc[Tc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tc[Tc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tc[Tc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tc[Tc.ABORTED=10]="ABORTED",Tc[Tc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tc[Tc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tc[Tc.INTERNAL=13]="INTERNAL",Tc[Tc.UNAVAILABLE=14]="UNAVAILABLE",Tc[Tc.DATA_LOSS=15]="DATA_LOSS";var Mc=function(){function e(){E(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return x(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return Fc}},{key:"getOrCreateInstance",value:function(){return null===Fc&&(Fc=new e),Fc}}]),e}(),Fc=null;function Vc(){return new TextEncoder}var Uc=new su([4294967295,4294967295],0);function jc(e){var t=Vc().encode(e),n=new uu;return n.update(t),new Uint8Array(n.digest())}function zc(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new su([n,r],0),new su([i,a],0)]}var Bc=function(){function e(t,n,r){if(E(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qc("Invalid padding: ".concat(n));if(r<0)throw new qc("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new qc("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new qc("Invalid padding when bitmap length is 0: ".concat(n));this.de=8*t.length-n,this.Ae=su.fromNumber(this.de)}return x(e,[{key:"Re",value:function(e,t,n){var r=e.add(t.multiply(su.fromNumber(n)));return 1===r.compare(Uc)&&(r=new su([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ae).toNumber()}},{key:"Ve",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.de)return!1;for(var t=y(zc(jc(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Re(n,r,i);if(!this.Ve(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.de)for(var t=y(zc(jc(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Re(n,r,i);this.me(a)}}},{key:"me",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),qc=function(e){C(n,e);var t=N(n);function n(){var e;return E(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return x(n)}(P(Error)),Hc=function(){function e(t,n,r,i,a){E(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return x(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Kc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Fu.min(),i,new cs(Lu),Ul(),Gl())}}]),e}(),Kc=function(){function e(t,n,r,i,a){E(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return x(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Gl(),Gl(),Gl())}}]),e}(),Wc=x((function e(t,n,r,i){E(this,e),this.fe=t,this.removedTargetIds=n,this.key=r,this.ge=i})),Qc=x((function e(t,n){E(this,e),this.targetId=t,this.pe=n})),Gc=x((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ms.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;E(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),$c=function(){function e(){E(this,e),this.ye=0,this.we=Jc(),this.Se=ms.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}return x(e,[{key:"current",get:function(){return this.be}},{key:"resumeToken",get:function(){return this.Se}},{key:"ve",get:function(){return 0!==this.ye}},{key:"Ce",get:function(){return this.De}},{key:"Fe",value:function(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}},{key:"Me",value:function(){var e=Gl(),t=Gl(),n=Gl();return this.we.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:gu()}})),new Kc(this.Se,this.be,e,t,n)}},{key:"xe",value:function(){this.De=!1,this.we=Jc()}},{key:"Oe",value:function(e,t){this.De=!0,this.we=this.we.insert(e,t)}},{key:"Ne",value:function(e){this.De=!0,this.we=this.we.remove(e)}},{key:"Be",value:function(){this.ye+=1}},{key:"Le",value:function(){this.ye-=1}},{key:"ke",value:function(){this.De=!0,this.be=!0}}]),e}(),Xc=function(){function e(t){E(this,e),this.qe=t,this.Qe=new Map,this.Ke=Ul(),this.$e=Yc(),this.Ue=new cs(Lu)}return x(e,[{key:"We",value:function(e){var t,n=O(e.fe);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.ge&&e.ge.isFoundDocument()?this.Ge(r,e.ge):this.ze(r,e.key,e.ge)}}catch(u){n.e(u)}finally{n.f()}var i,a=O(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ze(o,e.key,e.ge)}}catch(u){a.e(u)}finally{a.f()}}},{key:"je",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.He(n);switch(e.state){case 0:t.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||t.removeTarget(n);break;case 3:t.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:t.Je(n)&&(t.Ye(n),r.Fe(e.resumeToken));break;default:gu()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qe.forEach((function(e,r){n.Je(r)&&t(r)}))}},{key:"Ze",value:function(e){var t,n,r=e.targetId,i=e.pe.count,a=this.Xe(r);if(a){var o=a.target;if(gl(o))if(0===i){var u=new Bu(o.path);this.ze(r,u,Ks.newNoDocument(u,Fu.min()))}else ku(1===i);else{var s=this.et(r);if(s!==i){var l=this.tt(e,s);if(0!==l.status){this.Ye(r);var c=2===l.status?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(r,c)}null===(t=Mc.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n,r){var i,a,o,u,s,l,c={localCacheCount:n,existenceFilterCount:r.count},f=r.unchangedNames;return f&&(c.bloomFilter={applied:0===e,hashCount:null!==(i=null==f?void 0:f.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(u=null===(o=null===(a=null==f?void 0:f.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==u?u:0,padding:null!==(l=null===(s=null==f?void 0:f.bits)||void 0===s?void 0:s.padding)&&void 0!==l?l:0},t&&(c.bloomFilter.mightContain=t)),c}(l.status,null!==(n=l.nt)&&void 0!==n?n:null,s,e.pe))}}}}},{key:"tt",value:function(e,t){var n=this,r=e.pe,i=r.unchangedNames,a=r.count;if(!i||!i.bits)return{status:1};var o,u,s=i.bits,l=s.bitmap,c=void 0===l?"":l,f=s.padding,h=void 0===f?0:f,d=i.hashCount,p=void 0===d?0:d;try{o=ws(c).toUint8Array()}catch(e){if(e instanceof ys)return yu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw e}try{u=new Bc(o,h,p)}catch(e){return yu(e instanceof qc?"BloomFilter error: ":"Applying bloom filter failed: ",e),{status:1}}var v=function(e){var t=n.qe.rt();return u.mightContain("projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e))};return 0===u.de?{status:1}:{status:a===t-this.it(e.targetId,v)?0:2,nt:v}}},{key:"it",value:function(e,t){var n=this,r=this.qe.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){t(r.path.canonicalString())||(n.ze(e,r,null),i++)})),i}},{key:"st",value:function(e){var t=this,n=new Map;this.Qe.forEach((function(r,i){var a=t.Xe(i);if(a){if(r.current&&gl(a.target)){var o=new Bu(a.target.path);null!==t.Ke.get(o)||t.ot(i,o)||t.ze(i,o,Ks.newNoDocument(o,e))}r.Ce&&(n.set(i,r.Me()),r.xe())}}));var r=Gl();this.$e.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xe(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ke.forEach((function(t,n){return n.setReadTime(e)}));var i=new Hc(e,n,this.Ue,this.Ke,r);return this.Ke=Ul(),this.$e=Yc(),this.Ue=new cs(Lu),i}},{key:"Ge",value:function(e,t){if(this.Je(e)){var n=this.ot(e,t.key)?2:0;this.He(e).Oe(t.key,n),this.Ke=this.Ke.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e))}}},{key:"ze",value:function(e,t,n){if(this.Je(e)){var r=this.He(e);this.ot(e,t)?r.Oe(t,1):r.Ne(t),this.$e=this.$e.insert(t,this._t(t).delete(e)),n&&(this.Ke=this.Ke.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qe.delete(e)}},{key:"et",value:function(e){var t=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Be",value:function(e){this.He(e).Be()}},{key:"He",value:function(e){var t=this.Qe.get(e);return t||(t=new $c,this.Qe.set(e,t)),t}},{key:"_t",value:function(e){var t=this.$e.get(e);return t||(t=new ds(Lu),this.$e=this.$e.insert(e,t)),t}},{key:"Je",value:function(e){var t=null!==this.Xe(e);return t||pu("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xe",value:function(e){var t=this.Qe.get(e);return t&&t.ve?null:this.qe.ut(e)}},{key:"Ye",value:function(e){var t=this;this.Qe.set(e,new $c),this.qe.getRemoteKeysForTarget(e).forEach((function(n){t.ze(e,n,null)}))}},{key:"ot",value:function(e,t){return this.qe.getRemoteKeysForTarget(e).has(t)}}]),e}();function Yc(){return new cs(Bu.comparator)}function Jc(){return new cs(Bu.comparator)}var Zc={asc:"ASCENDING",desc:"DESCENDING"},ef={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tf={and:"AND",or:"OR"},nf=x((function e(t,n){E(this,e),this.databaseId=t,this.useProto3Json=n}));function rf(e,t){return e.useProto3Json||ts(t)?t:{value:t}}function af(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function of(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function uf(e,t){return af(e,t.toTimestamp())}function sf(e){return ku(!!e),Fu.fromTimestamp(function(e){var t=ks(e);return new Mu(t.seconds,t.nanos)}(e))}function lf(e,t){return function(e){return new Uu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function cf(e){var t=Uu.fromString(e);return ku(Nf(t)),t}function ff(e,t){return lf(e.databaseId,t.path)}function hf(e,t){var n=cf(t);if(n.get(1)!==e.databaseId.projectId)throw new Eu(wu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Eu(wu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Bu(yf(n))}function df(e,t){return lf(e.databaseId,t)}function pf(e){var t=cf(e);return 4===t.length?Uu.emptyPath():yf(t)}function vf(e){return new Uu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yf(e){return ku(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function mf(e,t,n){return{name:ff(e,t),fields:n.value.mapValue.fields}}function gf(e,t){var n;if(t instanceof wc)n={update:mf(e,t.key,t.value)};else if(t instanceof Ic)n={delete:ff(e,t.key)};else if(t instanceof Ec)n={update:mf(e,t.key,t.data),updateMask:Af(t.fieldMask)};else{if(!(t instanceof Ac))return gu();n={verify:ff(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ic)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ac)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof uc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof lc)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw gu()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:uf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:gu()}(e,t.precondition)),n}function kf(e,t){return{documents:[df(e,t.path)]}}function bf(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=df(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=df(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return If(Zs.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Cf(e.field),direction:Sf(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=rf(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function wf(e){var t=pf(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ku(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Ef(e);return t instanceof Zs&&tl(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=function(e){return e.map((function(e){return function(e){return new $s(Tf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var s=null;n.limit&&(s=function(e){var t;return ts(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new Ws(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new Ws(n,t)}(n.endAt)),bl(t,i,u,o,s,"F",l,c)}function Ef(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Tf(e.unaryFilter.field);return Js.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Tf(e.unaryFilter.field);return Js.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Tf(e.unaryFilter.field);return Js.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Tf(e.unaryFilter.field);return Js.create(i,"!=",{nullValue:"NULL_VALUE"});default:return gu()}}(e):void 0!==e.fieldFilter?function(e){return Js.create(Tf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Zs.create(e.compositeFilter.filters.map((function(e){return Ef(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return gu()}}(e.compositeFilter.op))}(e):gu()}function Sf(e){return Zc[e]}function xf(e){return ef[e]}function _f(e){return tf[e]}function Cf(e){return{fieldPath:e.canonicalString()}}function Tf(e){return zu.fromServerFormat(e.fieldPath)}function If(e){return e instanceof Js?function(e){if("=="===e.op){if(Us(e.value))return{unaryFilter:{field:Cf(e.field),op:"IS_NAN"}};if(Vs(e.value))return{unaryFilter:{field:Cf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Us(e.value))return{unaryFilter:{field:Cf(e.field),op:"IS_NOT_NAN"}};if(Vs(e.value))return{unaryFilter:{field:Cf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cf(e.field),op:xf(e.op),value:e.value}}}(e):e instanceof Zs?function(e){var t=e.getFilters().map((function(e){return If(e)}));return 1===t.length?t[0]:{compositeFilter:{op:_f(e.op),filters:t}}}(e):gu()}function Af(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Nf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Df=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Fu.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Fu.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ms.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;E(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return x(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Pf=x((function e(t){E(this,e),this.ct=t}));function Of(e){var t=wf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Al(t,t.limit,"L"):t}var Lf=function(){function e(){E(this,e)}return x(e,[{key:"Pt",value:function(e,t){this.It(e,t),t.Tt()}},{key:"It",value:function(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(bs(e.integerValue));else if("doubleValue"in e){var n=bs(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),ns(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Et(t,20),"string"==typeof r?t.At(r):(t.At("".concat(r.seconds||"")),t.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(ws(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?Bs(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):gu()}},{key:"Rt",value:function(e,t){this.Et(t,25),this.St(e,t)}},{key:"St",value:function(e,t){t.At(e)}},{key:"yt",value:function(e,t){var n=e.fields||{};this.Et(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Rt(a,t),this.It(n[a],t)}}},{key:"wt",value:function(e,t){var n=e.values||[];this.Et(t,50);var r,i=O(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.It(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"gt",value:function(e,t){var n=this;this.Et(t,37),Bu.fromName(e).path.forEach((function(e){n.Et(t,60),n.St(e,t)}))}},{key:"Et",value:function(e,t){e.dt(t)}},{key:"Vt",value:function(e){e.dt(2)}}]),e}();Lf.bt=new Lf;var Rf=function(){function e(){E(this,e),this.sn=new Mf}return x(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.sn.add(t),Ju.resolve()}},{key:"getCollectionParents",value:function(e,t){return Ju.resolve(this.sn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Ju.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Ju.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Ju.resolve(null)}},{key:"getIndexType",value:function(e,t){return Ju.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Ju.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Ju.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Ju.resolve(Wu.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Ju.resolve(Wu.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Ju.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Ju.resolve()}}]),e}(),Mf=function(){function e(){E(this,e),this.index={}}return x(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ds(Uu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new ds(Uu.comparator)).toArray()}}]),e}();new Uint8Array(0);var Ff=function(){function e(t,n,r){E(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return x(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Ff.DEFAULT_COLLECTION_PERCENTILE=10,Ff.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ff.DEFAULT=new Ff(41943040,Ff.DEFAULT_COLLECTION_PERCENTILE,Ff.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ff.DISABLED=new Ff(-1,0,0);var Vf=function(){function e(t){E(this,e),this.Mn=t}return x(e,[{key:"next",value:function(){return this.Mn+=2,this.Mn}}],[{key:"xn",value:function(){return new e(0)}},{key:"On",value:function(){return new e(-1)}}]),e}();var Uf=function(){function e(){E(this,e),this.changes=new Fl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return x(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Ks.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ju.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var jf=x((function e(t,n){E(this,e),this.overlayedDocument=t,this.mutatedFields=n})),zf=function(){function e(t,n,r,i){E(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return x(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&gc(r.mutation,e,vs.empty(),Mu.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Gl()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gl(),i=ql();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=zl();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=ql();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Gl())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Ul(),a=Kl(),o=Kl();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Ec)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),gc(o.mutation,t,o.mutation.getFieldMask(),Mu.now())):a.set(t.key,vs.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new jf(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Kl(),i=new cs((function(e,t){return e-t})),a=Gl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=O(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||vs.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Gl()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,l=i.value,c=Hl();l.forEach((function(e){if(!a.has(e)){var n=yc(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,c))};u.hasNext();)s();return Ju.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Bu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_l(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Ju.resolve(ql()),u=-1,s=a;return o.next((function(t){return Ju.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Ju.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Gl())})).next((function(e){return{batchId:u,changes:Bl(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Bu(t)).next((function(e){var t=zl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=zl();return this.indexManager.getCollectionParents(e,i).next((function(o){return Ju.forEach(o,(function(o){var u=function(e,t){return new kl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ks.newInvalidDocument(r)))}));var n=zl();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&gc(a.mutation,i,vs.empty(),Mu.now()),Ol(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Bf=function(){function e(t){E(this,e),this.serializer=t,this.ar=new Map,this.ur=new Map}return x(e,[{key:"getBundleMetadata",value:function(e,t){return Ju.resolve(this.ar.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.ar.set(t.id,function(e){return{id:e.id,version:e.version,createTime:sf(e.createTime)}}(t)),Ju.resolve()}},{key:"getNamedQuery",value:function(e,t){return Ju.resolve(this.ur.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ur.set(t.name,function(e){return{name:e.name,query:Of(e.bundledQuery),readTime:sf(e.readTime)}}(t)),Ju.resolve()}}]),e}(),qf=function(){function e(){E(this,e),this.overlays=new cs(Bu.comparator),this.cr=new Map}return x(e,[{key:"getOverlay",value:function(e,t){return Ju.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=ql();return Ju.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ht(e,t,i)})),Ju.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.cr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.cr.delete(n)),Ju.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=ql(),i=t.length+1,a=new Bu(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Ju.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new cs((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=ql(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=ql(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Ju.resolve(s)}},{key:"ht",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.cr.get(r.largestBatchId).delete(n.key);this.cr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Pc(t,n));var a=this.cr.get(t);void 0===a&&(a=Gl(),this.cr.set(t,a)),this.cr.set(t,a.add(n.key))}}]),e}(),Hf=function(){function e(){E(this,e),this.lr=new ds(Kf.hr),this.Pr=new ds(Kf.Ir)}return x(e,[{key:"isEmpty",value:function(){return this.lr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Kf(e,t);this.lr=this.lr.add(n),this.Pr=this.Pr.add(n)}},{key:"Tr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Er(new Kf(e,t))}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ar",value:function(e){var t=this,n=new Bu(new Uu([])),r=new Kf(n,e),i=new Kf(n,e+1),a=[];return this.Pr.forEachInRange([r,i],(function(e){t.Er(e),a.push(e.key)})),a}},{key:"Rr",value:function(){var e=this;this.lr.forEach((function(t){return e.Er(t)}))}},{key:"Er",value:function(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}},{key:"Vr",value:function(e){var t=new Bu(new Uu([])),n=new Kf(t,e),r=new Kf(t,e+1),i=Gl();return this.Pr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Kf(e,0),n=this.lr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Kf=function(){function e(t,n){E(this,e),this.key=t,this.mr=n}return x(e,null,[{key:"hr",value:function(e,t){return Bu.comparator(e.key,t.key)||Lu(e.mr,t.mr)}},{key:"Ir",value:function(e,t){return Lu(e.mr,t.mr)||Bu.comparator(e.key,t.key)}}]),e}(),Wf=function(){function e(t,n){E(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new ds(Kf.hr)}return x(e,[{key:"checkEmpty",value:function(e){return Ju.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Nc(i,t,n,r);this.mutationQueue.push(a);var o,u=O(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.pr=this.pr.add(new Kf(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(l){u.e(l)}finally{u.f()}return Ju.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Ju.resolve(this.yr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.wr(n),i=r<0?0:r;return Ju.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Ju.resolve(0===this.mutationQueue.length?-1:this.gr-1)}},{key:"getAllMutationBatches",value:function(e){return Ju.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Kf(t,0),i=new Kf(t,Number.POSITIVE_INFINITY),a=[];return this.pr.forEachInRange([r,i],(function(e){var t=n.yr(e.mr);a.push(t)})),Ju.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ds(Lu);return t.forEach((function(e){var t=new Kf(e,0),i=new Kf(e,Number.POSITIVE_INFINITY);n.pr.forEachInRange([t,i],(function(e){r=r.add(e.mr)}))})),Ju.resolve(this.Sr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Bu.isDocumentKey(i)||(i=i.child(""));var a=new Kf(new Bu(i),0),o=new ds(Lu);return this.pr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.mr)),!0)}),a),Ju.resolve(this.Sr(o))}},{key:"Sr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.yr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ku(0===this.br(t.batchId,"removed")),this.mutationQueue.shift();var r=this.pr;return Ju.forEach(t.mutations,(function(i){var a=new Kf(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.pr=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Kf(t,0),r=this.pr.firstAfterOrEqual(n);return Ju.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Ju.resolve()}},{key:"br",value:function(e,t){return this.wr(e)}},{key:"wr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"yr",value:function(e){var t=this.wr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Qf=function(){function e(t){E(this,e),this.Dr=t,this.docs=new cs(Bu.comparator),this.size=0}return x(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Dr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Ju.resolve(n?n.document.mutableCopy():Ks.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Ul();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ks.newInvalidDocument(e))})),Ju.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Ul(),a=t.path,o=new Bu(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),l=s.key,c=s.value.document;if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||Qu(Ku(c),n)<=0||(r.has(c.key)||Ol(t,c))&&(i=i.insert(c.key,c.mutableCopy()))}return Ju.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){gu()}},{key:"vr",value:function(e,t){return Ju.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Gf(this)}},{key:"getSize",value:function(e){return Ju.resolve(this.size)}}]),e}(),Gf=function(e){C(n,e);var t=N(n);function n(e){var r;return E(this,n),(r=t.call(this)).sr=e,r}return x(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.sr.addEntry(e,i)):t.sr.removeEntry(r)})),Ju.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.sr.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.sr.getEntries(e,t)}}]),n}(Uf),$f=function(){function e(t){E(this,e),this.persistence=t,this.Cr=new Fl((function(e){return yl(e)}),ml),this.lastRemoteSnapshotVersion=Fu.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new Hf,this.targetCount=0,this.Or=Vf.xn()}return x(e,[{key:"forEachTarget",value:function(e,t){return this.Cr.forEach((function(e,n){return t(n)})),Ju.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Ju.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Ju.resolve(this.Fr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Or.next(),Ju.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fr&&(this.Fr=t),Ju.resolve()}},{key:"Ln",value:function(e){this.Cr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Or=new Vf(t),this.highestTargetId=t),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Ln(t),this.targetCount+=1,Ju.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Ln(t),Ju.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Cr.delete(t.target),this.Mr.Ar(t.targetId),this.targetCount-=1,Ju.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Cr.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Cr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Ju.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Ju.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Cr.get(t)||null;return Ju.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Mr.Tr(t,n),Ju.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Mr.dr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Ju.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Mr.Ar(t),Ju.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Mr.Vr(t);return Ju.resolve(n)}},{key:"containsKey",value:function(e,t){return Ju.resolve(this.Mr.containsKey(t))}}]),e}(),Xf=function(){function e(t,n){var r=this;E(this,e),this.Nr={},this.overlays={},this.Br=new es(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=t(this),this.kr=new $f(this),this.indexManager=new Rf,this.remoteDocumentCache=function(e){return new Qf(e)}((function(e){return r.referenceDelegate.qr(e)})),this.serializer=new Pf(n),this.Qr=new Bf(this.serializer)}return x(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Lr=!1,Promise.resolve()}},{key:"started",get:function(){return this.Lr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new qf,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Nr[e.toKey()];return n||(n=new Wf(t,this.referenceDelegate),this.Nr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Qr}},{key:"runTransaction",value:function(e,t,n){var r=this;pu("MemoryPersistence","Starting transaction:",e);var i=new Yf(this.Br.next());return this.referenceDelegate.Kr(),n(i).next((function(e){return r.referenceDelegate.$r(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ur",value:function(e,t){return Ju.or(Object.values(this.Nr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Yf=function(e){C(n,e);var t=N(n);function n(e){var r;return E(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return x(n)}($u),Jf=function(){function e(t){E(this,e),this.persistence=t,this.Wr=new Hf,this.Gr=null}return x(e,[{key:"jr",get:function(){if(this.Gr)return this.Gr;throw gu()}},{key:"addReference",value:function(e,t,n){return this.Wr.addReference(n,t),this.jr.delete(n.toString()),Ju.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Wr.removeReference(n,t),this.jr.add(n.toString()),Ju.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.jr.add(t.toString()),Ju.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Wr.Ar(t.targetId).forEach((function(e){return n.jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Kr",value:function(){this.Gr=new Set}},{key:"$r",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ju.forEach(this.jr,(function(r){var i=Bu.fromPath(r);return t.Hr(e,i).next((function(e){e||n.removeEntry(i,Fu.min())}))})).next((function(){return t.Gr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hr(e,t).next((function(e){e?n.jr.delete(t.toString()):n.jr.add(t.toString())}))}},{key:"qr",value:function(e){return 0}},{key:"Hr",value:function(e,t){var n=this;return Ju.or([function(){return Ju.resolve(n.Wr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ur(e,t)}])}}],[{key:"zr",value:function(t){return new e(t)}}]),e}();var Zf=function(){function e(t,n,r,i){E(this,e),this.targetId=t,this.fromCache=n,this.Li=r,this.ki=i}return x(e,null,[{key:"qi",value:function(t,n){var r,i=Gl(),a=Gl(),o=O(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),eh=function(){function e(){E(this,e),this.Qi=!1}return x(e,[{key:"initialize",value:function(e,t){this.Ki=e,this.indexManager=t,this.Qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.$i(e,t).next((function(a){return a||i.Ui(e,t,r,n)})).next((function(n){return n||i.Wi(e,t)}))}},{key:"$i",value:function(e,t){var n=this;if(El(t))return Ju.resolve(null);var r=Tl(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Al(t,null,"F"),r=Tl(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Gl.apply(void 0,d(i));return n.Ki.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Gi(t,i);return n.zi(t,o,a,r.readTime)?n.$i(e,Al(t,null,"F")):n.ji(e,o,t,r)}))}))})))}))}},{key:"Ui",value:function(e,t,n,r){var i=this;return El(t)||r.isEqual(Fu.min())?this.Wi(e,t):this.Ki.getDocuments(e,n).next((function(a){var o=i.Gi(t,a);return i.zi(t,o,n,r)?i.Wi(e,t):(du()<=Lt.DEBUG&&pu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Pl(t)),i.ji(e,o,t,Hu(r,-1)))}))}},{key:"Gi",value:function(e,t){var n=new ds(Rl(e));return t.forEach((function(t,r){Ol(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Wi",value:function(e,t){return du()<=Lt.DEBUG&&pu("QueryEngine","Using full collection scan to execute query:",Pl(t)),this.Ki.getDocumentsMatchingQuery(e,t,Wu.min())}},{key:"ji",value:function(e,t,n,r){return this.Ki.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),th=function(){function e(t,n,r,i){E(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new cs(Lu),this.Yi=new Fl((function(e){return yl(e)}),ml),this.Zi=new Map,this.Xi=t.getRemoteDocumentCache(),this.kr=t.getTargetCache(),this.Qr=t.getBundleCache(),this.es(r)}return x(e,[{key:"es",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zf(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function nh(e,t,n,r){return new th(e,t,n,r)}function rh(e,t){return ih.apply(this,arguments)}function ih(){return ih=ht(ct().mark((function e(t,n){var r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bu(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.es(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Gl(),s=O(t);try{for(s.s();!(i=s.n()).done;){var l=i.value;a.push(l.batchId);var c,f=O(l.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=O(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=O(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ts:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),ih.apply(this,arguments)}function ah(e,t){var n=bu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Xi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Ju.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ku(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Gl(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function oh(e){var t=bu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.kr.getLastRemoteSnapshotVersion(e)}))}function uh(e,t){var n=bu(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.kr.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.kr.addMatchingKeys(e,a.addedDocuments,u)})));var l=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?l=l.withResumeToken(ms.EMPTY_BYTE_STRING,Fu.min()).withLastLimboFreeSnapshotVersion(Fu.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(u,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,l,a)&&o.push(n.kr.updateTargetData(e,l))}}));var u=Ul(),s=Gl();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(sh(e,a,t.documentUpdates).next((function(e){u=e.ns,s=e.rs}))),!r.isEqual(Fu.min())){var l=n.kr.getLastRemoteSnapshotVersion(e).next((function(t){return n.kr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return Ju.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ji=i,e}))}function sh(e,t,n){var r=Gl(),i=Gl();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Ul();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Fu.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):pu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{ns:r,rs:i}}))}function lh(e,t){var n=bu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function ch(e,t){var n=bu(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.kr.getTargetData(e,t).next((function(i){return i?(r=i,Ju.resolve(r)):n.kr.allocateTargetId(e).next((function(i){return r=new Df(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.kr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function fh(e,t,n){return hh.apply(this,arguments)}function hh(){return hh=ht(ct().mark((function e(t,n,r){var i,a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=bu(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Zu(e.t1)){e.next=12;break}throw e.t1;case 12:pu("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),hh.apply(this,arguments)}function dh(e,t,n){var r=bu(e),i=Fu.min(),a=Gl();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=bu(e),i=r.Yi.get(n);return void 0!==i?Ju.resolve(r.Ji.get(i)):r.kr.getTargetData(t,n)}(r,e,Tl(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:Fu.min(),n?a:Gl())})).next((function(e){return ph(r,Ll(t),e),{documents:e,ss:a}}))}))}function ph(e,t,n){var r=e.Zi.get(t)||Fu.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Zi.set(t,r)}var vh=function(){function e(){E(this,e),this.activeTargetIds=Xl()}return x(e,[{key:"hs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ps",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ls",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),yh=function(){function e(){E(this,e),this.Hs=new vh,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return x(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hs.hs(e),this.Js[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Js[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hs.Ps(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hs.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Js[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hs.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hs.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hs=new vh,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),mh=function(){function e(){E(this,e)}return x(e,[{key:"Ys",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),gh=function(){function e(){var t=this;E(this,e),this.Zs=function(){return t.Xs()},this.eo=function(){return t.no()},this.ro=[],this.io()}return x(e,[{key:"Ys",value:function(e){this.ro.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}},{key:"Xs",value:function(){pu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=O(this.ro);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){pu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=O(this.ro);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"v",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),kh=null;function bh(){return null===kh?kh=268435456+Math.round(2147483648*Math.random()):kh++,"0x"+kh.toString(16)}var wh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Eh=function(){function e(t){E(this,e),this.so=t.so,this.oo=t.oo}return x(e,[{key:"_o",value:function(e){this.ao=e}},{key:"uo",value:function(e){this.co=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.so(e)}},{key:"ho",value:function(){this.ao()}},{key:"Po",value:function(e){this.co(e)}},{key:"Io",value:function(e){this.lo(e)}}]),e}(),Sh="WebChannelConnection",xh=function(e){C(n,e);var t=N(n);function n(e){var r;return E(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return x(n,[{key:"po",value:function(e,t,n,r){var i=bh();return new Promise((function(a,o){var u=new ou;u.setWithCredentials(!0),u.listenOnce(tu.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case eu.NO_ERROR:var t=u.getResponseJson();pu(Sh,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case eu.TIMEOUT:pu(Sh,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Eu(wu.DEADLINE_EXCEEDED,"Request time out"));break;case eu.HTTP_ERROR:var n=u.getStatus();if(pu(Sh,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(wu).indexOf(t)>=0?t:wu.UNKNOWN}(s.status);o(new Eu(l,s.message))}else o(new Eu(wu.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new Eu(wu.UNAVAILABLE,"Connection failed."));break;default:gu()}}finally{pu(Sh,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);pu(Sh,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=bh(),i=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Jo(),o=Zo(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.xmlHttpFactory=new iu({})),this.fo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var l=i.join("");pu(Sh,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),u);var c=a.createWebChannel(l,u),f=!1,h=!1,d=new Eh({so:function(t){h?pu(Sh,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(pu(Sh,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),f=!0),pu(Sh,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},oo:function(){return c.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(c,au.EventType.OPEN,(function(){h||pu(Sh,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(c,au.EventType.CLOSE,(function(){h||(h=!0,pu(Sh,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Po())})),p(c,au.EventType.ERROR,(function(t){h||(h=!0,yu(Sh,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Po(new Eu(wu.UNAVAILABLE,"The operation could not be completed")))})),p(c,au.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];ku(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){pu(Sh,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Cc[e];if(void 0!==t)return Rc(t)}(u),l=o.message;void 0===s&&(s=wu.INTERNAL,l="Unknown error status: "+u+" with message "+o.message),h=!0,d.Po(new Eu(s,l)),c.close()}else pu(Sh,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.Io(i)}})),p(o,nu.STAT_EVENT,(function(t){t.stat===ru.PROXY?pu(Sh,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ru.NOPROXY&&pu(Sh,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.ho()}),0),d}}]),n}(function(){function e(t){E(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.To=n+"://"+t.host,this.Eo="projects/".concat(r,"/databases/").concat(i),this.Ao="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return x(e,[{key:"Ro",get:function(){return!1}},{key:"Vo",value:function(e,t,n,r,i){var a=bh(),o=this.mo(e,t);pu("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(u,r,i),this.po(e,o,u,n).then((function(t){return pu("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw yu("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"yo",value:function(e,t,n,r,i,a){return this.Vo(e,t,n,r,i)}},{key:"fo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+fu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"mo",value:function(e,t){var n=wh[e];return"".concat(this.To,"/v1/").concat(t,":").concat(n)}}]),e}());function _h(){return"undefined"!=typeof document?document:null}function Ch(e){return new nf(e,!0)}var Th=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;E(this,e),this.ii=t,this.timerId=n,this.So=r,this.bo=i,this.Do=a,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}return x(e,[{key:"reset",value:function(){this.vo=0}},{key:"Mo",value:function(){this.vo=this.Do}},{key:"xo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.vo+this.Oo()),r=Math.max(0,Date.now()-this.Fo),i=Math.max(0,n-r);i>0&&pu("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.vo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Co=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Fo=Date.now(),e()})),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}},{key:"No",value:function(){null!==this.Co&&(this.Co.skipDelay(),this.Co=null)}},{key:"cancel",value:function(){null!==this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"Oo",value:function(){return(Math.random()-.5)*this.vo}}]),e}(),Ih=function(){function e(t,n,r,i,a,o,u,s){E(this,e),this.ii=t,this.Bo=r,this.Lo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new Th(t,n)}return x(e,[{key:"$o",value:function(){return 1===this.state||5===this.state||this.Uo()}},{key:"Uo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Wo()}},{key:"stop",value:function(){var e=ht(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.$o(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Go",value:function(){this.state=0,this.Ko.reset()}},{key:"zo",value:function(){var e=this;this.Uo()&&null===this.qo&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,(function(){return e.jo()})))}},{key:"Ho",value:function(e){this.Jo(),this.stream.send(e)}},{key:"jo",value:function(){var e=ht(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Uo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Jo",value:function(){this.qo&&(this.qo.cancel(),this.qo=null)}},{key:"Yo",value:function(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}},{key:"close",value:function(){var e=ht(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,4!==t?this.Ko.reset():n&&n.code===wu.RESOURCE_EXHAUSTED?(vu(n.toString()),vu("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===wu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Zo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.uo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Zo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=y(t,2),i=r[0],a=r[1];e.ko===n&&e.e_(i,a)}),(function(n){t((function(){var t=new Eu(wu.UNKNOWN,"Fetching auth token failed: "+n.message);return e.t_(t)}))}))}},{key:"e_",value:function(e,t){var n=this,r=this.Xo(this.ko);this.stream=this.n_(e,t),this.stream._o((function(){r((function(){return n.state=2,n.Qo=n.ii.enqueueAfterDelay(n.Lo,1e4,(function(){return n.Uo()&&(n.state=3),Promise.resolve()})),n.listener._o()}))})),this.stream.uo((function(e){r((function(){return n.t_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Wo",value:function(){var e=this;this.state=5,this.Ko.xo(ht(ct().mark((function t(){return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"t_",value:function(e){return pu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.ko===e?n():(pu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Ah=function(e){C(n,e);var t=N(n);function n(e,r,i,a,o,u){var s;return E(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return x(n,[{key:"n_",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Ko.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:gu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(ku(void 0===t||"string"==typeof t),ms.fromBase64String(t||"")):(ku(void 0===t||t instanceof Uint8Array),ms.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?wu.UNKNOWN:Rc(e.code);return new Eu(t,e.message||"")}(o);n=new Gc(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var l=hf(e,s.document.name),c=sf(s.document.updateTime),f=s.document.createTime?sf(s.document.createTime):Fu.min(),h=new qs({mapValue:{fields:s.document.fields}}),d=Ks.newFoundDocument(l,c,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Wc(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var y=t.documentDelete;y.document;var m=hf(e,y.document),g=y.readTime?sf(y.readTime):Fu.min(),k=Ks.newNoDocument(m,g),b=y.removedTargetIds||[];n=new Wc([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var E=hf(e,w.document),S=w.removedTargetIds||[];n=new Wc([],S,E,null)}else{if(!("filter"in t))return gu();t.filter;var x=t.filter;x.targetId;var _=x.count,C=void 0===_?0:_,T=x.unchangedNames,I=new Oc(C,T),A=x.targetId;n=new Qc(A,I)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Fu.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Fu.min():t.readTime?sf(t.readTime):Fu.min()}(e);return this.listener.r_(t,n)}},{key:"i_",value:function(e){var t={};t.database=vf(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=gl(r)?{documents:kf(e,r)}:{query:bf(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=of(e,t.resumeToken);var i=rf(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Fu.min())>0){n.readTime=af(e,t.snapshotVersion.toTimestamp());var a=rf(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gu()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Ho(t)}},{key:"s_",value:function(e){var t={};t.database=vf(this.serializer),t.removeTarget=e,this.Ho(t)}}]),n}(Ih),Nh=function(e){C(n,e);var t=N(n);function n(e,r,i,a,o,u){var s;return E(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.o_=!1,s}return x(n,[{key:"__",get:function(){return this.o_}},{key:"start",value:function(){this.o_=!1,this.lastStreamToken=void 0,lt(T(n.prototype),"start",this).call(this)}},{key:"Zo",value:function(){this.o_&&this.a_([])}},{key:"n_",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(ku(!!e.streamToken),this.lastStreamToken=e.streamToken,this.o_){this.Ko.reset();var t=function(e,t){return e&&e.length>0?(ku(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?sf(e.updateTime):sf(t);return n.isEqual(Fu.min())&&(n=sf(t)),new hc(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=sf(e.commitTime);return this.listener.u_(n,t)}return ku(!e.writeResults||0===e.writeResults.length),this.o_=!0,this.listener.c_()}},{key:"l_",value:function(){var e={};e.database=vf(this.serializer),this.Ho(e)}},{key:"a_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return gf(t.serializer,e)}))};this.Ho(n)}}]),n}(Ih),Dh=function(e){C(n,e);var t=N(n);function n(e,r,i,a){var o;return E(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.h_=!1,o}return x(n,[{key:"P_",value:function(){if(this.h_)throw new Eu(wu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Vo",value:function(e,t,n){var r=this;return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=y(i,2),o=a[0],u=a[1];return r.connection.Vo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===wu.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Eu(wu.UNKNOWN,e.toString())}))}},{key:"yo",value:function(e,t,n,r){var i=this;return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=y(a,2),u=o[0],s=o[1];return i.connection.yo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===wu.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Eu(wu.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.h_=!0}}]),n}(x((function e(){E(this,e)})));var Ph=function(){function e(t,n){E(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}return x(e,[{key:"A_",value:function(){var e=this;0===this.T_&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.E_=null,e.V_("Backend didn't respond within 10 seconds."),e.R_("Offline"),Promise.resolve()})))}},{key:"m_",value:function(e){"Online"===this.state?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.R_("Offline")))}},{key:"set",value:function(e){this.f_(),this.T_=0,"Online"===e&&(this.d_=!1),this.R_(e)}},{key:"R_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"V_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.d_?(vu(t),this.d_=!1):pu("OnlineStateTracker",t)}},{key:"f_",value:function(){null!==this.E_&&(this.E_.cancel(),this.E_=null)}}]),e}(),Oh=x((function e(t,n,r,i,a){var o=this;E(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=a,this.S_.Ys((function(e){r.enqueueAndForget(ht(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Hh(o),!e.t0){e.next=5;break}return pu("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ht(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=bu(t)).y_.add(4),e.next=4,Mh(n);case 4:return n.b_.set("Unknown"),n.y_.delete(4),e.next=8,Lh(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.b_=new Ph(r,i)}));function Lh(e){return Rh.apply(this,arguments)}function Rh(){return(Rh=ht(ct().mark((function e(t){var n,r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Hh(t)){e.next=18;break}n=O(t.w_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function Mh(e){return Fh.apply(this,arguments)}function Fh(){return(Fh=ht(ct().mark((function e(t){var n,r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=O(t.w_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function Vh(e,t){var n=bu(e);n.p_.has(t.targetId)||(n.p_.set(t.targetId,t),qh(n)?Bh(n):kd(n).Uo()&&jh(n,t))}function Uh(e,t){var n=bu(e),r=kd(n);n.p_.delete(t),r.Uo()&&zh(n,t),0===n.p_.size&&(r.Uo()?r.zo():Hh(n)&&n.b_.set("Unknown"))}function jh(e,t){if(e.D_.Be(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Fu.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}kd(e).i_(t)}function zh(e,t){e.D_.Be(t),kd(e).s_(t)}function Bh(e){e.D_=new Xc({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ut:function(t){return e.p_.get(t)||null},rt:function(){return e.datastore.serializer.databaseId}}),kd(e).start(),e.b_.A_()}function qh(e){return Hh(e)&&!kd(e).$o()&&e.p_.size>0}function Hh(e){return 0===bu(e).y_.size}function Kh(e){e.D_=void 0}function Wh(e){return Qh.apply(this,arguments)}function Qh(){return(Qh=ht(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.p_.forEach((function(e,n){jh(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gh(e,t){return $h.apply(this,arguments)}function $h(){return($h=ht(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Kh(t),qh(t)?(t.b_.m_(n),Bh(t)):t.b_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xh(e,t,n){return Yh.apply(this,arguments)}function Yh(){return Yh=ht(ct().mark((function e(t,n,r){var i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.b_.set("Online"),!(n instanceof Gc&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ht(ct().mark((function e(t,n){var r,i,a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=O(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.p_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.p_.delete(o),t.D_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),pu("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Jh(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Wc?t.D_.We(n):n instanceof Qc?t.D_.Ze(n):t.D_.je(n),r.isEqual(Fu.min())){e.next=29;break}return e.prev=14,e.next=17,oh(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.D_.st(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.p_.get(r);i&&e.p_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.p_.get(t);if(r){e.p_.set(t,r.withResumeToken(ms.EMPTY_BYTE_STRING,r.snapshotVersion)),zh(e,t);var i=new Df(r.target,t,n,r.sequenceNumber);jh(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),pu("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Jh(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Yh.apply(this,arguments)}function Jh(e,t,n){return Zh.apply(this,arguments)}function Zh(){return(Zh=ht(ct().mark((function e(t,n,r){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zu(n)){e.next=2;break}throw n;case 2:return t.y_.add(1),e.next=5,Mh(t);case 5:t.b_.set("Offline"),r||(r=function(){return oh(t.localStore)}),t.asyncQueue.enqueueRetryable(ht(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pu("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.y_.delete(1),e.next=6,Lh(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ed(e,t){return t().catch((function(n){return Jh(e,n,t)}))}function td(e){return nd.apply(this,arguments)}function nd(){return nd=ht(ct().mark((function e(t){var n,r,i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=bu(t),r=bd(n),i=n.g_.length>0?n.g_[n.g_.length-1].batchId:-1;case 2:if(!rd(n)){e.next=19;break}return e.prev=3,e.next=6,lh(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.g_.length&&r.zo(),e.abrupt("break",19);case 10:i=a.batchId,id(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Jh(n,e.t0);case 17:e.next=2;break;case 19:ad(n)&&od(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),nd.apply(this,arguments)}function rd(e){return Hh(e)&&e.g_.length<10}function id(e,t){e.g_.push(t);var n=bd(e);n.Uo()&&n.__&&n.a_(t.mutations)}function ad(e){return Hh(e)&&!bd(e).$o()&&e.g_.length>0}function od(e){bd(e).start()}function ud(e){return sd.apply(this,arguments)}function sd(){return(sd=ht(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bd(t).l_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ld(e){return cd.apply(this,arguments)}function cd(){return(cd=ht(ct().mark((function e(t){var n,r,i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=bd(t),r=O(t.g_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.a_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fd(e,t,n){return hd.apply(this,arguments)}function hd(){return hd=ht(ct().mark((function e(t,n,r){var i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.g_.shift(),a=Dc.from(i,n,r),e.next=3,ed(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,td(t);case 5:case"end":return e.stop()}}),e)}))),hd.apply(this,arguments)}function dd(e,t){return pd.apply(this,arguments)}function pd(){return pd=ht(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&bd(t).__,!e.t0){e.next=4;break}return e.next=4,function(){var e=ht(ct().mark((function e(t,n){var r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return Lc(e)&&e!==wu.ABORTED}(n.code)){e.next=7;break}return r=t.g_.shift(),bd(t).Go(),e.next=5,ed(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,td(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:ad(t)&&od(t);case 5:case"end":return e.stop()}}),e)}))),pd.apply(this,arguments)}function vd(e,t){return yd.apply(this,arguments)}function yd(){return yd=ht(ct().mark((function e(t,n){var r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=bu(t)).asyncQueue.verifyOperationInProgress(),pu("RemoteStore","RemoteStore received new credentials"),i=Hh(r),r.y_.add(3),e.next=6,Mh(r);case 6:return i&&r.b_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.y_.delete(3),e.next=12,Lh(r);case 12:case"end":return e.stop()}}),e)}))),yd.apply(this,arguments)}function md(e,t){return gd.apply(this,arguments)}function gd(){return(gd=ht(ct().mark((function e(t,n){var r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=bu(t),!n){e.next=7;break}return r.y_.delete(2),e.next=5,Lh(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.y_.add(2),e.next=12,Mh(r);case 12:r.b_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kd(e){return e.v_||(e.v_=function(e,t,n){var r=bu(e);return r.P_(),new Ah(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{_o:Wh.bind(null,e),uo:Gh.bind(null,e),r_:Xh.bind(null,e)}),e.w_.push(function(){var t=ht(ct().mark((function t(n){return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.v_.Go(),qh(e)?Bh(e):e.b_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.v_.stop();case 6:Kh(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.v_}function bd(e){return e.C_||(e.C_=function(e,t,n){var r=bu(e);return r.P_(),new Nh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{_o:ud.bind(null,e),uo:dd.bind(null,e),c_:ld.bind(null,e),u_:fd.bind(null,e)}),e.w_.push(function(){var t=ht(ct().mark((function t(n){return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.C_.Go(),t.next=4,td(e);case 4:t.next=9;break;case 6:return t.next=8,e.C_.stop();case 8:e.g_.length>0&&(pu("RemoteStore","Stopping write stream with ".concat(e.g_.length," pending writes")),e.g_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.C_}var wd=function(){function e(t,n,r,i,a){E(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Su,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return x(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Eu(wu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Ed(e,t){if(vu("AsyncQueue","".concat(t,": ").concat(e)),Zu(e))return new Eu(wu.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Sd=function(){function e(t){E(this,e),this.comparator=t?function(e,n){return t(e,n)||Bu.comparator(e.key,n.key)}:function(e,t){return Bu.comparator(e.key,t.key)},this.keyedMap=zl(),this.sortedSet=new cs(this.comparator)}return x(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),xd=function(){function e(){E(this,e),this.F_=new cs(Bu.comparator)}return x(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.F_.get(t);n?0!==e.type&&3===n.type?this.F_=this.F_.insert(t,e):3===e.type&&1!==n.type?this.F_=this.F_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.F_=this.F_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.F_=this.F_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.F_=this.F_.remove(t):1===e.type&&2===n.type?this.F_=this.F_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.F_=this.F_.insert(t,{type:2,doc:e.doc}):gu():this.F_=this.F_.insert(t,e)}},{key:"M_",value:function(){var e=[];return this.F_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),_d=function(){function e(t,n,r,i,a,o,u,s,l){E(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=l}return x(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Sd.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Cd=x((function e(){E(this,e),this.x_=void 0,this.listeners=[]})),Td=x((function e(){E(this,e),this.queries=new Fl((function(e){return Dl(e)}),Nl),this.onlineState="Unknown",this.O_=new Set}));function Id(e,t){return Ad.apply(this,arguments)}function Ad(){return Ad=ht(ct().mark((function e(t,n){var r,i,a,o,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=bu(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Cd),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.x_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Ed(e.t0,"Initialization of query '".concat(Pl(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.N_(r.onlineState),o.x_&&n.B_(o.x_)&&Ld(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ad.apply(this,arguments)}function Nd(e,t){return Dd.apply(this,arguments)}function Dd(){return Dd=ht(ct().mark((function e(t,n){var r,i,a,o,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=bu(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Dd.apply(this,arguments)}function Pd(e,t){var n,r=bu(e),i=!1,a=O(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var l,c=O(s.listeners);try{for(c.s();!(l=c.n()).done;){l.value.B_(o)&&(i=!0)}}catch(f){c.e(f)}finally{c.f()}s.x_=o}}}catch(f){a.e(f)}finally{a.f()}i&&Ld(r)}function Od(e,t,n){var r=bu(e),i=r.queries.get(t);if(i){var a,o=O(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Ld(e){e.O_.forEach((function(e){e.next()}))}var Rd=function(){function e(t,n,r){E(this,e),this.query=t,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=r||{}}return x(e,[{key:"B_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=O(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new _d(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.k_?this.Q_(e)&&(this.L_.next(e),a=!0):this.K_(e,this.onlineState)&&(this.U_(e),a=!0),this.q_=e,a}},{key:"onError",value:function(e){this.L_.error(e)}},{key:"N_",value:function(e){this.onlineState=e;var t=!1;return this.q_&&!this.k_&&this.K_(this.q_,e)&&(this.U_(this.q_),t=!0),t}},{key:"K_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.W_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Q_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.q_&&this.q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"U_",value:function(e){e=_d.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.k_=!0,this.L_.next(e)}}]),e}();var Md=x((function e(t){E(this,e),this.key=t})),Fd=x((function e(t){E(this,e),this.key=t})),Vd=function(){function e(t,n){E(this,e),this.query=t,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=Gl(),this.mutatedKeys=Gl(),this.na=Rl(t),this.ra=new Sd(this.na)}return x(e,[{key:"ia",get:function(){return this.X_}},{key:"sa",value:function(e,t){var n=this,r=t?t.oa:new xd,i=t?t.ra:this.ra,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=Ol(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n._a(c,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.na(f,s)>0||l&&n.na(f,l)<0)&&(u=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(s||l)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{ra:o,oa:r,zi:u,mutatedKeys:a}}},{key:"_a",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ra;this.ra=e.ra,this.mutatedKeys=e.mutatedKeys;var a=e.oa.M_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gu()}};return n(e)-n(t)}(e.type,t.type)||r.na(e.doc,t.doc)})),this.aa(n);var o=t?this.ua():[],u=0===this.ta.size&&this.current?1:0,s=u!==this.ea;return this.ea=u,0!==a.length||s?{snapshot:new _d(this.query,e.ra,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),ca:o}:{ca:o}}},{key:"N_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ra:this.ra,oa:new xd,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}},{key:"la",value:function(e){return!this.X_.has(e)&&!!this.ra.has(e)&&!this.ra.get(e).hasLocalMutations}},{key:"aa",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.X_=t.X_.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.X_=t.X_.delete(e)})),this.current=e.current)}},{key:"ua",value:function(){var e=this;if(!this.current)return[];var t=this.ta;this.ta=Gl(),this.ra.forEach((function(t){e.la(t.key)&&(e.ta=e.ta.add(t.key))}));var n=[];return t.forEach((function(t){e.ta.has(t)||n.push(new Fd(t))})),this.ta.forEach((function(e){t.has(e)||n.push(new Md(e))})),n}},{key:"ha",value:function(e){this.X_=e.ss,this.ta=Gl();var t=this.sa(e.documents);return this.applyChanges(t,!0)}},{key:"Pa",value:function(){return _d.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,0===this.ea,this.hasCachedResults)}}]),e}(),Ud=x((function e(t,n,r){E(this,e),this.query=t,this.targetId=n,this.view=r})),jd=x((function e(t){E(this,e),this.key=t,this.Ia=!1})),zd=function(){function e(t,n,r,i,a,o){E(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ta={},this.Ea=new Fl((function(e){return Dl(e)}),Nl),this.da=new Map,this.Aa=new Set,this.Ra=new cs(Bu.comparator),this.Va=new Map,this.ma=new Hf,this.fa={},this.ga=new Map,this.pa=Vf.On(),this.onlineState="Unknown",this.ya=void 0}return x(e,[{key:"isPrimaryClient",get:function(){return!0===this.ya}}]),e}();function Bd(e,t){return qd.apply(this,arguments)}function qd(){return qd=ht(ct().mark((function e(t,n){var r,i,a,o,u,s;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mp(t),!(o=r.Ea.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Pa(),e.next=15;break;case 6:return e.next=8,ch(r.localStore,Tl(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,Hd(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&Vh(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),qd.apply(this,arguments)}function Hd(e,t,n,r,i){return Kd.apply(this,arguments)}function Kd(){return Kd=ht(ct().mark((function e(t,n,r,i,a){var o,u,s,l,c,f;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.wa=function(e,n,r){return function(){var e=ht(ct().mark((function e(t,n,r,i){var a,o,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sa(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,dh(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sa(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(lp(t,n.targetId,u.ca),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,dh(t.localStore,n,!0);case 3:return o=e.sent,u=new Vd(n,o.ss),s=u.sa(o.documents),l=Kc.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),c=u.applyChanges(s,t.isPrimaryClient,l),lp(t,r,c.ca),f=new Ud(n,r,u),e.abrupt("return",(t.Ea.set(n,f),t.da.has(r)?t.da.get(r).push(n):t.da.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Kd.apply(this,arguments)}function Wd(e,t){return Qd.apply(this,arguments)}function Qd(){return Qd=ht(ct().mark((function e(t,n){var r,i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=bu(t),i=r.Ea.get(n),!((a=r.da.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.da.set(i.targetId,a.filter((function(e){return!Nl(e,n)}))),void r.Ea.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,fh(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Uh(r.remoteStore,i.targetId),up(r,i.targetId)})).catch(Xu);case 9:e.next=14;break;case 11:return up(r,i.targetId),e.next=14,fh(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Qd.apply(this,arguments)}function Gd(e,t,n){return $d.apply(this,arguments)}function $d(){return $d=ht(ct().mark((function e(t,n,r){var i,a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gp(t),e.prev=1,e.next=4,function(e,t){var n,r,i=bu(e),a=Mu.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Gl());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Ul(),s=Gl();return i.Xi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=O(t);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=kc(l,n.get(l.key).overlayedDocument);null!=c&&u.push(new Ec(l.key,c,Hs(c.value.mapValue),dc.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Bl(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.fa[e.currentUser.toKey()];r||(r=new cs(Lu)),r=r.insert(t,n),e.fa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,hp(i,a.changes);case 9:return e.next=11,td(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Ed(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),$d.apply(this,arguments)}function Xd(e,t){return Yd.apply(this,arguments)}function Yd(){return Yd=ht(ct().mark((function e(t,n){var r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bu(t),e.prev=1,e.next=4,uh(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Va.get(t);n&&(ku(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ia=!0:e.modifiedDocuments.size>0?ku(n.Ia):e.removedDocuments.size>0&&(ku(n.Ia),n.Ia=!1))})),e.next=8,hp(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Xu(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Yd.apply(this,arguments)}function Jd(e,t,n){var r=bu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Ea.forEach((function(e,n){var r=n.view.N_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=bu(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=O(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.N_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Ld(n)}(r.eventManager,t),i.length&&r.Ta.r_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Zd(e,t,n){return ep.apply(this,arguments)}function ep(){return ep=ht(ct().mark((function e(t,n,r){var i,a,o,u,s,l;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=bu(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Va.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new cs(Bu.comparator)).insert(o,Ks.newNoDocument(o,Fu.min())),s=Gl().add(o),l=new Hc(Fu.min(),new Map,new cs(Lu),u,s),e.next=9,Xd(i,l);case 9:i.Ra=i.Ra.remove(o),i.Va.delete(n),fp(i),e.next=16;break;case 14:return e.next=16,fh(i.localStore,n,!1).then((function(){return up(i,n,r)})).catch(Xu);case 16:case"end":return e.stop()}}),e)}))),ep.apply(this,arguments)}function tp(e,t){return np.apply(this,arguments)}function np(){return np=ht(ct().mark((function e(t,n){var r,i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bu(t),i=n.batch.batchId,e.prev=1,e.next=4,ah(r.localStore,n);case 4:return a=e.sent,op(r,i,null),ap(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,hp(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Xu(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),np.apply(this,arguments)}function rp(e,t,n){return ip.apply(this,arguments)}function ip(){return ip=ht(ct().mark((function e(t,n,r){var i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bu(t),e.prev=1,e.next=4,function(e,t){var n=bu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return ku(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,op(i,n,r),ap(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,hp(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Xu(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ip.apply(this,arguments)}function ap(e,t){(e.ga.get(t)||[]).forEach((function(e){e.resolve()})),e.ga.delete(t)}function op(e,t,n){var r=bu(e),i=r.fa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.fa[r.currentUser.toKey()]=i}}function up(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=O(e.da.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Ea.delete(a),n&&e.Ta.Sa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.da.delete(t),e.isPrimaryClient&&e.ma.Ar(t).forEach((function(t){e.ma.containsKey(t)||sp(e,t)}))}function sp(e,t){e.Aa.delete(t.path.canonicalString());var n=e.Ra.get(t);null!==n&&(Uh(e.remoteStore,n),e.Ra=e.Ra.remove(t),e.Va.delete(n),fp(e))}function lp(e,t,n){var r,i=O(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Md?(e.ma.addReference(a.key,t),cp(e,a)):a instanceof Fd?(pu("SyncEngine","Document no longer in limbo: "+a.key),e.ma.removeReference(a.key,t),e.ma.containsKey(a.key)||sp(e,a.key)):gu()}}catch(o){i.e(o)}finally{i.f()}}function cp(e,t){var n=t.key,r=n.path.canonicalString();e.Ra.get(n)||e.Aa.has(r)||(pu("SyncEngine","New document in limbo: "+n),e.Aa.add(r),fp(e))}function fp(e){for(;e.Aa.size>0&&e.Ra.size<e.maxConcurrentLimboResolutions;){var t=e.Aa.values().next().value;e.Aa.delete(t);var n=new Bu(Uu.fromString(t)),r=e.pa.next();e.Va.set(r,new jd(n)),e.Ra=e.Ra.insert(n,r),Vh(e.remoteStore,new Df(Tl(wl(n.path)),r,"TargetPurposeLimboResolution",es.ae))}}function hp(e,t,n){return dp.apply(this,arguments)}function dp(){return dp=ht(ct().mark((function e(t,n,r){var i,a,o,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=bu(t),a=[],o=[],u=[],e.t0=i.Ea.isEmpty(),e.t0){e.next=9;break}return i.Ea.forEach((function(e,t){u.push(i.wa(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Zf.qi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Ta.r_(a),e.next=9,function(){var e=ht(ct().mark((function e(t,n){var r,i,a,o,u,s,l,c;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bu(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ju.forEach(n,(function(t){return Ju.forEach(t.Li,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Ju.forEach(t.ki,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Zu(e.t0)){e.next=10;break}throw e.t0;case 10:pu("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=O(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ji.get(u),l=s.snapshotVersion,c=s.withLastLimboFreeSnapshotVersion(l),r.Ji=r.Ji.insert(u,c))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),dp.apply(this,arguments)}function pp(e,t){return vp.apply(this,arguments)}function vp(){return(vp=ht(ct().mark((function e(t,n){var r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=bu(t)).currentUser.isEqual(n)){e.next=11;break}return pu("SyncEngine","User change. New user:",n.toKey()),e.next=5,rh(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ga.forEach((function(e){e.forEach((function(e){e.reject(new Eu(wu.CANCELLED,t))}))})),e.ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,hp(r,i.ts);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yp(e,t){var n=bu(e),r=n.Va.get(t);if(r&&r.Ia)return Gl().add(r.key);var i=Gl(),a=n.da.get(t);if(!a)return i;var o,u=O(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,l=n.Ea.get(s);i=i.unionWith(l.view.ia)}}catch(c){u.e(c)}finally{u.f()}return i}function mp(e){var t=bu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Xd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zd.bind(null,t),t.Ta.r_=Pd.bind(null,t.eventManager),t.Ta.Sa=Od.bind(null,t.eventManager),t}function gp(e){var t=bu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rp.bind(null,t),t}var kp=function(){function e(){E(this,e),this.synchronizeTabs=!1}return x(e,[{key:"initialize",value:function(){var e=ht(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Ch(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return nh(this.persistence,new eh,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new Xf(Jf.zr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new yh}},{key:"terminate",value:function(){var e=ht(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),bp=function(){function e(){E(this,e)}return x(e,[{key:"initialize",value:function(){var e=ht(ct().mark((function e(t,n){var r=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Jd(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=pp.bind(null,this.syncEngine),e.next=12,md(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Td}},{key:"createDatastore",value:function(e){var t=Ch(e.databaseInfo.databaseId),n=function(e){return new xh(e)}(e.databaseInfo);return function(e,t,n,r){return new Dh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new Oh(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return Jd(t.syncEngine,e,0)}),gh.v()?new gh:new mh)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new zd(e,t,n,r,i,a);return o&&(u.ya=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ht(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bu(t),pu("RemoteStore","RemoteStore shutting down."),n.y_.add(5),e.next=5,Mh(n);case 5:n.S_.shutdown(),n.b_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var wp=function(){function e(t){E(this,e),this.observer=t,this.muted=!1}return x(e,[{key:"next",value:function(e){this.observer.next&&this.va(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.va(this.observer.error,e):vu("Uncaught Error in snapshot listener:",e.toString())}},{key:"Ca",value:function(){this.muted=!0}},{key:"va",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Ep=function(){function e(t,n,r,i){var a=this;E(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=cu.UNAUTHENTICATED,this.clientId=Ou.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ht(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pu("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return pu("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return x(e,[{key:"getConfiguration",value:function(){var e=ht(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Eu(wu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Su;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ht(ct().mark((function n(){var r;return ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Ed(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Sp(e,t){return xp.apply(this,arguments)}function xp(){return xp=ht(ct().mark((function e(t,n){var r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),pu("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ht(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,rh(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),xp.apply(this,arguments)}function _p(e,t){return Cp.apply(this,arguments)}function Cp(){return Cp=ht(ct().mark((function e(t,n){var r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Ip(t);case 3:return r=e.sent,pu("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return vd(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return vd(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Cp.apply(this,arguments)}function Tp(e){return"FirebaseError"===e.name?e.code===wu.FAILED_PRECONDITION||e.code===wu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Ip(e){return Ap.apply(this,arguments)}function Ap(){return(Ap=ht(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return pu("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Sp(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Tp(n=e.t0)){e.next=13;break}throw n;case 13:return yu("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,Sp(t,new kp);case 16:e.next=21;break;case 18:return pu("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Sp(t,new kp);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function Np(e){return Dp.apply(this,arguments)}function Dp(){return(Dp=ht(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return pu("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,_p(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return pu("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,_p(t,new bp);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pp(e){return Np(e).then((function(e){return e.syncEngine}))}function Op(e){return Lp.apply(this,arguments)}function Lp(){return(Lp=ht(ct().mark((function e(t){var n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Np(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Bd.bind(null,n.syncEngine),r.onUnlisten=Wd.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Su;return e.asyncQueue.enqueueAndForget(ht(ct().mark((function i(){return ct().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new wp({next:function(a){t.enqueueAndForget((function(){return Nd(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Eu(wu.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Eu(wu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Rd(wl(n.path),a,{includeMetadataChanges:!0,W_:!0});return Id(e,o)},i.next=3,Op(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Mp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Su;return e.asyncQueue.enqueueAndForget(ht(ct().mark((function i(){return ct().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new wp({next:function(n){t.enqueueAndForget((function(){return Nd(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Eu(wu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Rd(n,a,{includeMetadataChanges:!0,W_:!0});return Id(e,o)},i.next=3,Op(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Fp(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var Vp=new Map;function Up(e,t,n){if(!n)throw new Eu(wu.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function jp(e){if(!Bu.isDocumentKey(e))throw new Eu(wu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function zp(e){if(Bu.isDocumentKey(e))throw new Eu(wu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Bp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":gu()}function qp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Eu(wu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Bp(e);throw new Eu(wu.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var Hp=function(){function e(t){var n,r;if(E(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Eu(wu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Eu(wu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Eu(wu.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fp(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Eu(wu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Eu(wu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Eu(wu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return x(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Kp=function(){function e(t,n,r,i){E(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hp({}),this._settingsFrozen=!1}return x(e,[{key:"app",get:function(){if(!this._app)throw new Eu(wu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Eu(wu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new _u;switch(e.type){case"firstParty":return new Au(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Eu(wu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Vp.get(e);t&&(pu("ComponentProvider","Removing Datastore"),Vp.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Wp(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=qp(e,Kp))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&yu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=cu.MOCK_USER;else{u=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[yt(JSON.stringify({alg:"none",type:"JWT"})),yt(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new Eu(wu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new cu(l)}e._authCredentials=new Cu(new xu(u,s))}}var Qp=function(){function e(t,n,r){E(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return x(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Gp=function(){function e(t,n,r){E(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return x(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new $p(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),$p=function(e){C(n,e);var t=N(n);function n(e,r,i){var a;return E(this,n),(a=t.call(this,e,r,wl(i)))._path=i,a.type="collection",a}return x(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Gp(this.firestore,null,new Bu(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Qp);function Xp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=At(e),Up("collection","path",t),e instanceof Kp){var a=Uu.fromString.apply(Uu,[t].concat(r));return zp(a),new $p(e,null,a)}if(!(e instanceof Gp||e instanceof $p))throw new Eu(wu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Uu.fromString.apply(Uu,[t].concat(r)));return zp(o),new $p(e.firestore,null,o)}function Yp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=At(e),1===arguments.length&&(t=Ou.V()),Up("doc","path",t),e instanceof Kp){var a=Uu.fromString.apply(Uu,[t].concat(r));return jp(a),new Gp(e,null,new Bu(a))}if(!(e instanceof Gp||e instanceof $p))throw new Eu(wu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Uu.fromString.apply(Uu,[t].concat(r)));return jp(o),new Gp(e.firestore,e instanceof $p?e.converter:null,new Bu(o))}var Jp=function(){function e(){var t=this;E(this,e),this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new Th(this,"async_queue_retry"),this.Xa=function(){var e=_h();e&&pu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Ko.No()};var n=_h();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xa)}return x(e,[{key:"isShuttingDown",get:function(){return this.za}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.eu(),this.tu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.za){this.za=!0,this.Ya=e||!1;var t=_h();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xa)}}},{key:"enqueue",value:function(e){var t=this;if(this.eu(),this.za)return new Promise((function(){}));var n=new Su;return this.tu((function(){return t.za&&t.Ya?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ga.push(e),t.nu()}))}},{key:"nu",value:function(){var e=ht(ct().mark((function e(){var t=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ga.length){e.next=14;break}return e.prev=1,e.next=4,this.Ga[0]();case 4:this.Ga.shift(),this.Ko.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Zu(e.t0)){e.next=12;break}throw e.t0;case 12:pu("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ga.length>0&&this.Ko.xo((function(){return t.nu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"tu",value:function(e){var t=this,n=this.Wa.then((function(){return t.Ja=!0,e().catch((function(e){t.Ha=e,t.Ja=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw vu("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ja=!1,e}))}));return this.Wa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.eu(),this.Za.indexOf(e)>-1&&(t=0);var i=wd.createAndSchedule(this,e,t,n,(function(e){return r.ru(e)}));return this.ja.push(i),i}},{key:"eu",value:function(){this.Ha&&gu()}},{key:"verifyOperationInProgress",value:function(){}},{key:"iu",value:function(){var e=ht(ct().mark((function e(){var t;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Wa,e.next=3,t;case 3:if(t!==this.Wa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"su",value:function(e){var t,n=O(this.ja);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ou",value:function(e){var t=this;return this.iu().then((function(){t.ja.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=O(t.ja);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.iu()}))}},{key:"_u",value:function(e){this.Za.push(e)}},{key:"ru",value:function(e){var t=this.ja.indexOf(e);this.ja.splice(t,1)}}]),e}();var Zp=function(e){C(n,e);var t=N(n);function n(e,r,i,a){var o;return E(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Jp,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return x(n,[{key:"_terminate",value:function(){return this._firestoreClient||tv(this),this._firestoreClient.terminate()}}]),n}(Kp);function ev(e){return e._firestoreClient||tv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function tv(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new _s(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Fp(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Ep(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var nv=function(){function e(t){E(this,e),this._byteString=t}return x(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ms.fromBase64String(t))}catch(t){throw new Eu(wu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ms.fromUint8Array(t))}}]),e}(),rv=function(){function e(){E(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Eu(wu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zu(n)}return x(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var iv=x((function e(t){E(this,e),this._methodName=t})),av=function(){function e(t,n){if(E(this,e),!isFinite(t)||t<-90||t>90)throw new Eu(wu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Eu(wu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return x(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Lu(this._lat,e._lat)||Lu(this._long,e._long)}}]),e}(),ov=/^__.*__$/,uv=function(){function e(t,n,r){E(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return x(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Ec(e,this.data,this.fieldMask,t,this.fieldTransforms):new wc(e,this.data,t,this.fieldTransforms)}}]),e}();function sv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gu()}}var lv=function(){function e(t,n,r,i,a,o){E(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.au(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return x(e,[{key:"path",get:function(){return this.settings.path}},{key:"uu",get:function(){return this.settings.uu}},{key:"cu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"lu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.cu({path:n,hu:!1});return r.Pu(e),r}},{key:"Iu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.cu({path:n,hu:!1});return r.au(),r}},{key:"Tu",value:function(e){return this.cu({path:void 0,hu:!0})}},{key:"Eu",value:function(e){return wv(e,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"au",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Pu(this.path.get(e))}},{key:"Pu",value:function(e){if(0===e.length)throw this.Eu("Document fields must not be empty");if(sv(this.uu)&&ov.test(e))throw this.Eu('Document fields cannot begin and end with "__"')}}]),e}(),cv=function(){function e(t,n,r){E(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ch(t)}return x(e,[{key:"Ru",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new lv({uu:e,methodName:t,Au:n,path:zu.emptyPath(),hu:!1,du:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function fv(e){var t=e._freezeSettings(),n=Ch(e._databaseId);return new cv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function hv(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Ru(a.merge||a.mergeFields?2:0,t,n,i);mv("Data must be an object, but it was:",o,r);var u,s,l=vv(r,o);if(a.merge)u=new vs(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var c,f=[],h=O(a.mergeFields);try{for(h.s();!(c=h.n()).done;){var d=gv(t,c.value,n);if(!o.contains(d))throw new Eu(wu.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));Ev(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new vs(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new uv(new qs(l),u,s)}function dv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return pv(n,e.Ru(r?4:3,t))}function pv(e,t){if(yv(e=At(e)))return mv("Unsupported field value:",t,e),vv(e,t);if(e instanceof iv)return function(e,t){if(!sv(t.uu))throw t.Eu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Eu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.hu&&4!==t.uu)throw t.Eu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=O(e);try{for(a.s();!(n=a.n()).done;){var o=pv(n.value,t.Tu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=At(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Zl(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Mu.fromDate(e);return{timestampValue:af(t.serializer,n)}}if(e instanceof Mu){var r=new Mu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:af(t.serializer,r)}}if(e instanceof av)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof nv)return{bytesValue:of(t.serializer,e._byteString)};if(e instanceof Gp){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Eu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:lf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Eu("Unsupported field value: ".concat(Bp(e)))}(e,t)}function vv(e,t){var n={};return ls(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ss(e,(function(e,r){var i=pv(r,t.lu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function yv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Mu||e instanceof av||e instanceof nv||e instanceof Gp||e instanceof iv)}function mv(e,t,n){if(!yv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Bp(n);throw"an object"===r?t.Eu(e+" a custom object"):t.Eu(e+" "+r)}}function gv(e,t,n){if((t=At(t))instanceof rv)return t._internalPath;if("string"==typeof t)return bv(e,t);throw wv("Field path arguments must be of type string or ",e,!1,void 0,n)}var kv=new RegExp("[~\\*/\\[\\]]");function bv(e,t,n){if(t.search(kv)>=0)throw wv("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return D(rv,d(t.split(".")))._internalPath}catch(Zn){throw wv("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function wv(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Eu(wu.INVALID_ARGUMENT,u+e+s)}function Ev(e,t){return e.some((function(e){return e.isEqual(t)}))}var Sv=function(){function e(t,n,r,i,a){E(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return x(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Gp(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new xv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(_v("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),xv=function(e){C(n,e);var t=N(n);function n(){return E(this,n),t.apply(this,arguments)}return x(n,[{key:"data",value:function(){return lt(T(n.prototype),"data",this).call(this)}}]),n}(Sv);function _v(e,t){return"string"==typeof t?bv(e,t):t instanceof rv?t._internalPath:t._delegate._internalPath}function Cv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Eu(wu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Tv=x((function e(){E(this,e)})),Iv=function(e){C(n,e);var t=N(n);function n(){return E(this,n),t.apply(this,arguments)}return x(n)}(Tv);var Av=function(e){C(n,e);var t=N(n);function n(e,r,i){var a;return E(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return x(n,[{key:"_apply",value:function(e){var t=this._parse(e);return Ov(e._query,t),new Qp(e.firestore,e.converter,Il(e._query,t))}},{key:"_parse",value:function(e){var t=fv(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Eu(wu.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Pv(o,a);var s,l=[],c=O(o);try{for(c.s();!(s=c.n()).done;){var f=s.value;l.push(Dv(r,e,f))}}catch(h){c.e(h)}finally{c.f()}u={arrayValue:{values:l}}}else u=Dv(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Pv(o,a),u=dv(n,t,o,"in"===a||"not-in"===a);return Js.create(i,a,u)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Iv);var Nv=function(e){C(n,e);var t=N(n);function n(e,r){var i;return E(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return x(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Zs.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=O(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;Ov(r,a),r=Il(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new Qp(e.firestore,e.converter,Il(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Tv);function Dv(e,t,n){if("string"==typeof(n=At(n))){if(""===n)throw new Eu(wu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_l(t)&&-1!==n.indexOf("/"))throw new Eu(wu.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Uu.fromString(n));if(!Bu.isDocumentKey(r))throw new Eu(wu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Rs(e,new Bu(r))}if(n instanceof Gp)return Rs(e,n._key);throw new Eu(wu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Bp(n),"."))}function Pv(e,t){if(!Array.isArray(e)||0===e.length)throw new Eu(wu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Ov(e,t){if(t.isInequality()){var n=xl(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Eu(wu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Sl(e);null!==i&&Lv(e,r,i)}var a=function(e,t){var n,r=O(e);try{for(r.s();!(n=r.n()).done;){var i,a=O(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Eu(wu.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Eu(wu.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function Lv(e,t,n){if(!n.isEqual(t))throw new Eu(wu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Rv=function(){function e(){E(this,e)}return x(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw gu()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return ss(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new av(bs(e.latitude),bs(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ss(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xs(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ks(e);return new Mu(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Uu.fromString(e);ku(Nf(n));var r=new Cs(n.get(1),n.get(3)),i=new Bu(n.popFirst(5));return r.isEqual(t)||vu("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Mv(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Fv=function(){function e(t,n){E(this,e),this.hasPendingWrites=t,this.fromCache=n}return x(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Vv=function(e){C(n,e);var t=N(n);function n(e,r,i,a,o,u){var s;return E(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return x(n,[{key:"exists",value:function(){return lt(T(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Uv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(_v("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Sv),Uv=function(e){C(n,e);var t=N(n);function n(){return E(this,n),t.apply(this,arguments)}return x(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return lt(T(n.prototype),"data",this).call(this,e)}}]),n}(Vv),jv=function(){function e(t,n,r,i){E(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fv(i.hasPendingWrites,i.fromCache),this.query=r}return x(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Uv(n._firestore,n._userDataWriter,r.key,r,new Fv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Eu(wu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Uv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Fv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Uv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Fv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:zv(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function zv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gu()}}var Bv=function(e){C(n,e);var t=N(n);function n(e){var r;return E(this,n),(r=t.call(this)).firestore=e,r}return x(n,[{key:"convertBytes",value:function(e){return new nv(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gp(this.firestore,null,t)}}]),n}(Rv);function qv(e,t){return function(e,t){var n=new Su;return e.asyncQueue.enqueueAndForget(ht(ct().mark((function r(){return ct().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Gd,r.next=3,Pp(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(ev(e),t)}function Hv(e,t,n){var r=n.docs.get(t._key),i=new Bv(e);return new Vv(e,i,t._key,r,new Fv(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){fu=e}("10.1.0"),mn(new Nt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Zp(new Tu(e.getProvider("auth-internal")),new Du(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Eu(wu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cs(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Sn(lu,"4.1.0",e),Sn(lu,"4.1.0","esm2017")}();Sn("firebase","10.1.0","app");var Kv=function(e,t){var n="object"==typeof e?e:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn,t=pn.get(e);if(!t&&e===hn&&wt())return En();if(!t)throw bn.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||"(default)",i=gn(n,"firestore").getImmediate({identifier:r});if(!i._initialized){var a=bt("firestore");a&&Wp.apply(void 0,[i].concat(d(a)))}return i}(En({apiKey:"AIzaSyCdeRSWeGBJFLNKrzVvvLytyAr_67MG0mA",authDomain:"petparadise-d948c.firebaseapp.com",projectId:"petparadise-d948c",storageBucket:"petparadise-d948c.appspot.com",messagingSenderId:"77767794371",appId:"1:77767794371:web:937c91273661ff43388c76"})),Wv=function(t){var n=t.greeting,r=y((0,e.useState)(["Productos"]),2),i=r[0],a=r[1],o=Ie().categoria;return(0,e.useEffect)((function(){var e=Xp(Kv,"productos"),t=o?function(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Tv&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof Nv})).length,n=e.filter((function(e){return e instanceof Av})).length;if(t>1||t>0&&n>0)throw new Eu(wu.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=O(n);try{for(u.s();!(o=u.n()).done;)e=o.value._apply(e)}catch(s){u.e(s)}finally{u.f()}return e}(e,function(e,t,n){var r=t,i=_v("where",e);return Av._create(i,r,n)}("categoria","==",o)):e;(function(e){e=qp(e,Qp);var t=qp(e.firestore,Zp),n=ev(t),r=new Bv(t);return Cv(e._query),Mp(n,e._query).then((function(n){return new jv(t,r,e,n)}))})(t).then((function(e){a(e.docs.map((function(e){return l(l({},e.data()),{},{id:e.id})})))}))}),[o]),(0,g.jsxs)("div",{children:[(0,g.jsx)("h1",{children:n}),(0,g.jsx)(st,{products:i})]})},Qv=function(t){var n=t.stock,r=t.initial,i=t.onAdd,a=y((0,e.useState)(r),2),o=a[0],u=a[1];return(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"Contador",children:[(0,g.jsx)("button",{onClick:function(){o>1&&u(o-1)},children:"-"}),(0,g.jsx)("p",{children:o}),(0,g.jsx)("button",{onClick:function(){o<n&&u(o+1)},children:"+"})]}),(0,g.jsx)("button",{className:"agregar-al-carrito",onClick:function(){return i(o)},disabled:!n,children:"Agregar al carrito"})]})},Gv=function(t){var n=t.id,r=t.titulo,i=t.imagen,a=t.categoria,o=t.stock,u=t.precio,s=t.descripcion,l=y((0,e.useState)(0),2),c=l[0],f=l[1],h=(0,e.useContext)(k).addItem;return(0,g.jsx)("div",{className:"container text-center",children:(0,g.jsxs)("div",{class:"row",children:[(0,g.jsx)("div",{class:"col",children:(0,g.jsx)("picture",{children:(0,g.jsx)("img",{src:i,alt:r,className:"ItemImg2"})})}),(0,g.jsxs)("div",{class:"col",children:[(0,g.jsx)("header",{className:"Header",children:(0,g.jsx)("h2",{className:"ItemHeader2",children:r})}),(0,g.jsxs)("section",{children:[(0,g.jsxs)("p",{className:"Info",children:["Categoria: ",a]}),(0,g.jsxs)("p",{className:"Info",children:["Precio: $",u]}),(0,g.jsxs)("p",{className:"Info",children:["Stock disponible: ",o]}),(0,g.jsx)("p",{className:"Info",children:s})]}),(0,g.jsx)("footer",{children:c>0?(0,g.jsx)(tt,{to:"/cart",className:"enviar",children:"Terminar compra"}):(0,g.jsx)(Qv,{initial:1,stock:o,onAdd:function(e){f(e),h({id:n,titulo:r,precio:u},e)}})})]})]})})},$v=function(){var t=y((0,e.useState)(null),2),n=t[0],r=t[1],i=Ie().itemId;return(0,e.useEffect)((function(){(function(e){e=qp(e,Gp);var t=qp(e.firestore,Zp);return Rp(ev(t),e._key).then((function(n){return Hv(t,e,n)}))})(Yp(Kv,"productos",i)).then((function(e){r(l(l({},e.data()),{},{id:e.id}))}))}),[i]),(0,g.jsx)("div",{className:"ItemDetailContainer",children:(0,g.jsx)(Gv,l({},n))})},Xv=function(){var t=(0,e.useContext)(k),n=t.cart,r=t.clearCart,i=t.precioTotal;return(0,g.jsxs)("div",{className:"container",children:[(0,g.jsx)("h1",{className:"main-title",children:"Carrito"}),n.map((function(e){return(0,g.jsxs)("div",{children:[(0,g.jsx)("br",{}),(0,g.jsx)("h3",{children:e.titulo}),(0,g.jsxs)("p",{children:["Precio unit: $",e.precio]}),(0,g.jsxs)("p",{children:["Precio total: $",e.precio*e.quantity]}),(0,g.jsxs)("p",{children:["Cant: ",e.quantity]}),(0,g.jsx)("br",{})]},e.id)})),n.length>0?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("h2",{children:["Precio total: $",i()]}),(0,g.jsx)("button",{onClick:function(){r()},children:"Vaciar"}),(0,g.jsx)(tt,{to:"/checkout",className:"Option px-5 ml-5",children:"Finalizar compra"})]}):(0,g.jsx)("h2",{children:"El carrito est\xe1 vac\xedo :("})]})};function Yv(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Jv=["name"],Zv=["_f"],ey=["_f"],ty=function(e){return"checkbox"===e.type},ny=function(e){return e instanceof Date},ry=function(e){return null==e},iy=function(e){return"object"===typeof e},ay=function(e){return!ry(e)&&!Array.isArray(e)&&iy(e)&&!ny(e)},oy=function(e){return ay(e)&&e.target?ty(e.target)?e.target.checked:e.target.value:e},uy=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},sy=function(e){var t=e.constructor&&e.constructor.prototype;return ay(t)&&t.hasOwnProperty("isPrototypeOf")},ly="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function cy(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(ly&&(e instanceof Blob||e instanceof FileList)||!n&&!ay(e))return e;if(t=n?[]:{},n||sy(e))for(var r in e)e.hasOwnProperty(r)&&(t[r]=cy(e[r]));else t=e}return t}var fy=function(e){return Array.isArray(e)?e.filter(Boolean):[]},hy=function(e){return void 0===e},dy=function(e,t,n){if(!t||!ay(e))return n;var r=fy(t.split(/[,[\].]+?/)).reduce((function(e,t){return ry(e)?e:e[t]}),e);return hy(r)||r===e?hy(e[t])?n:e[t]:r},py={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},vy={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},yy="max",my="min",gy="maxLength",ky="minLength",by="pattern",wy="required",Ey="validate",Sy=(e.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={defaultValues:t._defaultValues},a=function(a){Object.defineProperty(i,a,{get:function(){var i=a;return t._proxyFormState[i]!==vy.all&&(t._proxyFormState[i]=!r||vy.all),n&&(n[i]=!0),e[i]}})};for(var o in e)a(o);return i}),xy=function(e){return ay(e)&&!Object.keys(e).length},_y=function(e,t,n,r){n(e);e.name;var i=Yv(e,Jv);return xy(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find((function(e){return t[e]===(!r||vy.all)}))},Cy=function(e){return Array.isArray(e)?e:[e]};function Ty(t){var n=e.useRef(t);n.current=t,e.useEffect((function(){var e=!t.disabled&&n.current.subject&&n.current.subject.subscribe({next:n.current.next});return function(){e&&e.unsubscribe()}}),[t.disabled])}var Iy=function(e){return"string"===typeof e},Ay=function(e,t,n,r,i){return Iy(e)?(r&&t.watch.add(e),dy(n,e,i)):Array.isArray(e)?e.map((function(e){return r&&t.watch.add(e),dy(n,e)})):(r&&(t.watchAll=!0),n)};var Ny=function(e){return/^\w*$/.test(e)},Dy=function(e){return fy(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function Py(e,t,n){for(var r=-1,i=Ny(t)?[t]:Dy(t),a=i.length,o=a-1;++r<a;){var u=i[r],s=n;if(r!==o){var l=e[u];s=ay(l)||Array.isArray(l)?l:isNaN(+i[r+1])?{}:[]}e[u]=s,e=e[u]}return e}var Oy=function(e,t,n,r,i){return t?l(l({},n[e]),{},{types:l(l({},n[e]&&n[e].types?n[e].types:{}),{},u({},r,i||!0))}):{}},Ly=function e(t,n,r){var i,a=O(r||Object.keys(t));try{for(a.s();!(i=a.n()).done;){var o=i.value,u=dy(t,o);if(u){var s=u._f,l=Yv(u,Zv);if(s&&n(s.name)){if(s.ref.focus){s.ref.focus();break}if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else ay(l)&&e(l,n)}}}catch(c){a.e(c)}finally{a.f()}},Ry=function(e){return{isOnSubmit:!e||e===vy.onSubmit,isOnBlur:e===vy.onBlur,isOnChange:e===vy.onChange,isOnAll:e===vy.all,isOnTouch:e===vy.onTouched}},My=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||d(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))},Fy=function(e,t,n){var r=fy(dy(e,n));return Py(r,"root",t[n]),Py(e,n,r),e},Vy=function(e){return"boolean"===typeof e},Uy=function(e){return"file"===e.type},jy=function(e){return"function"===typeof e},zy=function(e){if(!ly)return!1;var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},By=function(e){return Iy(e)},qy=function(e){return"radio"===e.type},Hy=function(e){return e instanceof RegExp},Ky={value:!1,isValid:!1},Wy={value:!0,isValid:!0},Qy=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!hy(e[0].attributes.value)?hy(e[0].value)||""===e[0].value?Wy:{value:e[0].value,isValid:!0}:Wy:Ky}return Ky},Gy={isValid:!1,value:null},$y=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),Gy):Gy};function Xy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(By(e)||Array.isArray(e)&&e.every(By)||Vy(e)&&!e)return{type:n,message:By(e)?e:"",ref:t}}var Yy=function(e){return ay(e)&&!Hy(e)?e:{value:e,message:""}},Jy=function(){var e=ht(ct().mark((function e(t,n,r,i,a){var o,u,s,c,f,h,d,p,v,y,m,g,k,b,w,E,S,x,_,C,T,I,A,N,D,P,O,L,R,M,F,V,U,j,z,B,q,H,K,W,Q,G,$,X,Y,J,Z,ee;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t._f,u=o.ref,s=o.refs,c=o.required,f=o.maxLength,h=o.minLength,d=o.min,p=o.max,v=o.pattern,y=o.validate,m=o.name,g=o.valueAsNumber,k=o.mount,b=o.disabled,w=dy(n,m),k&&!b){e.next=4;break}return e.abrupt("return",{});case 4:if(E=s?s[0]:u,S=function(e){i&&E.reportValidity&&(E.setCustomValidity(Vy(e)?"":e||""),E.reportValidity())},x={},_=qy(u),C=ty(u),T=_||C,I=(g||Uy(u))&&hy(u.value)&&hy(w)||zy(u)&&""===u.value||""===w||Array.isArray(w)&&!w.length,A=Oy.bind(null,m,r,x),N=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:gy,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ky,a=e?t:n;x[m]=l({type:e?r:i,message:a,ref:u},A(e?r:i,a))},!(a?!Array.isArray(w)||!w.length:c&&(!T&&(I||ry(w))||Vy(w)&&!w||C&&!Qy(s).isValid||_&&!$y(s).isValid))){e.next=20;break}if(D=By(c)?{value:!!c,message:c}:Yy(c),P=D.value,O=D.message,!P){e.next=20;break}if(x[m]=l({type:wy,message:O,ref:E},A(wy,O)),r){e.next=20;break}return S(O),e.abrupt("return",x);case 20:if(I||ry(d)&&ry(p)){e.next=29;break}if(M=Yy(p),F=Yy(d),ry(w)||isNaN(w)?(U=u.valueAsDate||new Date(w),j=function(e){return new Date((new Date).toDateString()+" "+e)},z="time"==u.type,B="week"==u.type,Iy(M.value)&&w&&(L=z?j(w)>j(M.value):B?w>M.value:U>new Date(M.value)),Iy(F.value)&&w&&(R=z?j(w)<j(F.value):B?w<F.value:U<new Date(F.value))):(V=u.valueAsNumber||(w?+w:w),ry(M.value)||(L=V>M.value),ry(F.value)||(R=V<F.value)),!L&&!R){e.next=29;break}if(N(!!L,M.message,F.message,yy,my),r){e.next=29;break}return S(x[m].message),e.abrupt("return",x);case 29:if(!f&&!h||I||!(Iy(w)||a&&Array.isArray(w))){e.next=39;break}if(q=Yy(f),H=Yy(h),K=!ry(q.value)&&w.length>+q.value,W=!ry(H.value)&&w.length<+H.value,!K&&!W){e.next=39;break}if(N(K,q.message,H.message),r){e.next=39;break}return S(x[m].message),e.abrupt("return",x);case 39:if(!v||I||!Iy(w)){e.next=46;break}if(Q=Yy(v),G=Q.value,$=Q.message,!Hy(G)||w.match(G)){e.next=46;break}if(x[m]=l({type:by,message:$,ref:u},A(by,$)),r){e.next=46;break}return S($),e.abrupt("return",x);case 46:if(!y){e.next=80;break}if(!jy(y)){e.next=59;break}return e.next=50,y(w,n);case 50:if(X=e.sent,!(Y=Xy(X,E))){e.next=57;break}if(x[m]=l(l({},Y),A(Ey,Y.message)),r){e.next=57;break}return S(Y.message),e.abrupt("return",x);case 57:e.next=80;break;case 59:if(!ay(y)){e.next=80;break}J={},e.t0=ct().keys(y);case 62:if((e.t1=e.t0()).done){e.next=76;break}if(Z=e.t1.value,xy(J)||r){e.next=66;break}return e.abrupt("break",76);case 66:return e.t2=Xy,e.next=69,y[Z](w,n);case 69:e.t3=e.sent,e.t4=E,e.t5=Z,(ee=(0,e.t2)(e.t3,e.t4,e.t5))&&(J=l(l({},ee),A(Z,ee.message)),S(ee.message),r&&(x[m]=J)),e.next=62;break;case 76:if(xy(J)){e.next=80;break}if(x[m]=l({ref:E},J),r){e.next=80;break}return e.abrupt("return",x);case 80:return S(!0),e.abrupt("return",x);case 82:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}();function Zy(e,t){var n=Array.isArray(t)?t:Ny(t)?[t]:Dy(t),r=1===n.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=hy(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,a=n[i];return r&&delete r[a],0!==i&&(ay(r)&&xy(r)||Array.isArray(r)&&function(e){for(var t in e)if(e.hasOwnProperty(t)&&!hy(e[t]))return!1;return!0}(r))&&Zy(e,n.slice(0,-1)),e}function em(){var e=[];return{get observers(){return e},next:function(t){var n,r=O(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.next&&i.next(t)}}catch(a){r.e(a)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var tm=function(e){return ry(e)||!iy(e)};function nm(e,t){if(tm(e)||tm(t))return e===t;if(ny(e)&&ny(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i],u=e[o];if(!r.includes(o))return!1;if("ref"!==o){var s=t[o];if(ny(u)&&ny(s)||ay(u)&&ay(s)||Array.isArray(u)&&Array.isArray(s)?!nm(u,s):u!==s)return!1}}return!0}var rm=function(e){return"select-multiple"===e.type},im=function(e){return qy(e)||ty(e)},am=function(e){return zy(e)&&e.isConnected},om=function(e){for(var t in e)if(jy(e[t]))return!0;return!1};function um(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(ay(e)||n)for(var r in e)Array.isArray(e[r])||ay(e[r])&&!om(e[r])?(t[r]=Array.isArray(e[r])?[]:{},um(e[r],t[r])):ry(e[r])||(t[r]=!0);return t}function sm(e,t,n){var r=Array.isArray(e);if(ay(e)||r)for(var i in e)Array.isArray(e[i])||ay(e[i])&&!om(e[i])?hy(t)||tm(n[i])?n[i]=Array.isArray(e[i])?um(e[i],[]):l({},um(e[i])):sm(e[i],ry(t)?{}:t[i],n[i]):n[i]=!nm(e[i],t[i]);return n}var lm=function(e,t){return sm(e,t,um(t))},cm=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return hy(e)?e:n?""===e?NaN:e?+e:e:r&&Iy(e)?new Date(e):i?i(e):e};function fm(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return Uy(t)?t.files:qy(t)?$y(e.refs).value:rm(t)?d(t.selectedOptions).map((function(e){return e.value})):ty(t)?Qy(e.refs).value:cm(hy(t.value)?e.ref.value:t.value,e)}var hm=function(e,t,n,r){var i,a={},o=O(e);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=dy(t,u);s&&Py(a,u,s._f)}}catch(l){o.e(l)}finally{o.f()}return{criteriaMode:n,names:d(e),fields:a,shouldUseNativeValidation:r}},dm=function(e){return hy(e)?e:Hy(e)?e.source:ay(e)?Hy(e.value)?e.value.source:e.value:e},pm=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function vm(e,t,n){var r=dy(e,n);if(r||Ny(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var a=i.join("."),o=dy(t,a),u=dy(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(u&&u.type)return{name:a,error:u};i.pop()}return{name:n}}var ym=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},mm=function(e,t){return!fy(dy(e,t)).length&&Zy(e,t)},gm={mode:vy.onSubmit,reValidateMode:vy.onChange,shouldFocusError:!0};function km(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=l(l({},gm),t),i={submitCount:0,isDirty:!1,isLoading:jy(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},o=(ay(r.defaultValues)||ay(r.values))&&cy(r.defaultValues||r.values)||{},s=r.shouldUnregister?{}:cy(o),c={action:!1,mount:!1,watch:!1},f={mount:new Set,unMount:new Set,array:new Set,watch:new Set},h=0,p={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={values:em(),array:em(),state:em()},y=t.resetOptions&&t.resetOptions.keepDirtyValues,m=Ry(r.mode),g=Ry(r.reValidateMode),k=r.criteriaMode===vy.all,b=function(){var e=ht(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p.isValid&&!t){e.next=14;break}if(!r.resolver){e.next=9;break}return e.t1=xy,e.next=5,_();case 5:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=12;break;case 9:return e.next=11,T(a,!0);case 11:e.t0=e.sent;case 12:(n=e.t0)!==i.isValid&&v.state.next({isValid:n});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){return p.isValidating&&v.state.next({isValidating:e})},E=function(e,t,n,r){var i=dy(a,e);if(i){var u=dy(s,e,hy(n)?dy(o,e):n);hy(u)||r&&r.defaultChecked||t?Py(s,e,t?u:fm(i._f)):N(e,u),c.mount&&b()}},S=function(e,t,n,r,a){var u=!1,s=!1,l={name:e};if(!n||r){p.isDirty&&(s=i.isDirty,i.isDirty=l.isDirty=I(),u=s!==l.isDirty);var c=nm(dy(o,e),t);s=dy(i.dirtyFields,e),c?Zy(i.dirtyFields,e):Py(i.dirtyFields,e,!0),l.dirtyFields=i.dirtyFields,u=u||p.dirtyFields&&s!==!c}if(n){var f=dy(i.touchedFields,e);f||(Py(i.touchedFields,e,n),l.touchedFields=i.touchedFields,u=u||p.touchedFields&&f!==n)}return u&&a&&v.state.next(l),u?l:{}},x=function(n,r,a,o){var u=dy(i.errors,n),s=p.isValid&&Vy(r)&&i.isValid!==r;if(t.delayError&&a?(e=function(e){return function(t){clearTimeout(h),h=setTimeout(e,t)}}((function(){return function(e,t){Py(i.errors,e,t),v.state.next({errors:i.errors})}(n,a)})),e(t.delayError)):(clearTimeout(h),e=null,a?Py(i.errors,n,a):Zy(i.errors,n)),(a?!nm(u,a):u)||!xy(o)||s){var c=l(l(l({},o),s&&Vy(r)?{isValid:r}:{}),{},{errors:i.errors,name:n});i=l(l({},i),c),v.state.next(c)}w(!1)},_=function(){var e=ht(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.resolver(s,r.context,hm(t||f.mount,a,r.criteriaMode,r.shouldUseNativeValidation)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=ht(ct().mark((function e(t){var n,r,a,o,u,s;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:if(n=e.sent,r=n.errors,t){a=O(t);try{for(a.s();!(o=a.n()).done;)u=o.value,(s=dy(r,u))?Py(i.errors,u,s):Zy(i.errors,u)}catch(l){a.e(l)}finally{a.f()}}else i.errors=r;return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=ht(ct().mark((function e(t,n){var a,o,u,l,c,h,d,p=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=p.length>2&&void 0!==p[2]?p[2]:{valid:!0},e.t0=ct().keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(o=e.t1.value,!(u=t[o])){e.next=21;break}if(l=u._f,c=Yv(u,ey),!l){e.next=17;break}return h=f.array.has(l.name),e.next=11,Jy(u,s,k,r.shouldUseNativeValidation&&!n,h);case 11:if(!(d=e.sent)[l.name]){e.next=16;break}if(a.valid=!1,!n){e.next=16;break}return e.abrupt("break",23);case 16:!n&&(dy(d,l.name)?h?Fy(i.errors,d,l.name):Py(i.errors,l.name,d[l.name]):Zy(i.errors,l.name));case 17:if(e.t2=c,!e.t2){e.next=21;break}return e.next=21,T(c,n,a);case 21:e.next=2;break;case 23:return e.abrupt("return",a.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(e,t){return e&&t&&Py(s,e,t),!nm(M(),o)},A=function(e,t,n){return Ay(e,f,l({},c.mount?s:hy(t)?o:Iy(e)?u({},e,t):t),n,t)},N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=dy(a,e),i=t;if(r){var o=r._f;o&&(!o.disabled&&Py(s,e,cm(t,o)),i=zy(o.ref)&&ry(t)?"":t,rm(o.ref)?d(o.ref.options).forEach((function(e){return e.selected=i.includes(e.value)})):o.refs?ty(o.ref)?o.refs.length>1?o.refs.forEach((function(e){return(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find((function(t){return t===e.value})):i===e.value)})):o.refs[0]&&(o.refs[0].checked=!!i):o.refs.forEach((function(e){return e.checked=e.value===i})):Uy(o.ref)?o.ref.value="":(o.ref.value=i,o.ref.type||v.values.next({name:e,values:l({},s)})))}(n.shouldDirty||n.shouldTouch)&&S(e,i,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&R(e)},D=function e(t,n,r){for(var i in n){var o=n[i],u="".concat(t,".").concat(i),s=dy(a,u);!f.array.has(t)&&tm(o)&&(!s||s._f)||ny(o)?N(u,o,r):e(u,o,r)}},P=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=dy(a,e),h=f.array.has(e),d=cy(t);Py(s,e,d),h?(v.array.next({name:e,values:l({},s)}),(p.isDirty||p.dirtyFields)&&r.shouldDirty&&v.state.next({name:e,dirtyFields:lm(o,s),isDirty:I(e,d)})):!u||u._f||ry(d)?N(e,d,r):D(e,d,r),My(e,f)&&v.state.next(l({},i)),v.values.next({name:e,values:l({},s)}),!c.mount&&n()},L=function(){var t=ht(ct().mark((function t(n){var o,u,c,h,d,y,E,C,I,A,N,D,P,O,L,M,F;return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.target,u=o.name,c=!0,h=dy(a,u),d=function(){return o.type?fm(h._f):oy(n)},!h){t.next=47;break}if(C=d(),I=n.type===py.BLUR||n.type===py.FOCUS_OUT,A=!pm(h._f)&&!r.resolver&&!dy(i.errors,u)&&!h._f.deps||ym(I,dy(i.touchedFields,u),i.isSubmitted,g,m),N=My(u,f,I),Py(s,u,C),I?(h._f.onBlur&&h._f.onBlur(n),e&&e(0)):h._f.onChange&&h._f.onChange(n),D=S(u,C,I,!1),P=!xy(D)||N,!I&&v.values.next({name:u,type:n.type,values:l({},s)}),!A){t.next=18;break}return p.isValid&&b(),t.abrupt("return",P&&v.state.next(l({name:u},N?{}:D)));case 18:if(!I&&N&&v.state.next(l({},i)),w(!0),!r.resolver){t.next=32;break}return t.next=23,_([u]);case 23:O=t.sent,L=O.errors,M=vm(i.errors,a,u),F=vm(L,a,M.name||u),y=F.error,u=F.name,E=xy(L),t.next=46;break;case 32:return t.next=34,Jy(h,s,k,r.shouldUseNativeValidation);case 34:if(t.t0=u,y=t.sent[t.t0],!(c=isNaN(C)||C===dy(s,u,C))){t.next=46;break}if(!y){t.next=42;break}E=!1,t.next=46;break;case 42:if(!p.isValid){t.next=46;break}return t.next=45,T(a,!0);case 45:E=t.sent;case 46:c&&(h._f.deps&&R(h._f.deps),x(u,E,y,D));case 47:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=function(){var e=ht(ct().mark((function e(t){var n,o,s,c,h,d=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:{},c=Cy(t),w(!0),!r.resolver){e.next=11;break}return e.next=6,C(hy(t)?t:c);case 6:h=e.sent,o=xy(h),s=t?!c.some((function(e){return dy(h,e)})):o,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(c.map(function(){var e=ht(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=dy(a,t),e.next=3,T(n&&n._f?u({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((s=e.sent.every(Boolean))||i.isValid)&&b(),e.next=21;break;case 18:return e.next=20,T(a);case 20:s=o=e.sent;case 21:return v.state.next(l(l(l({},!Iy(t)||p.isValid&&o!==i.isValid?{}:{name:t}),r.resolver||!t?{isValid:o}:{}),{},{errors:i.errors,isValidating:!1})),n.shouldFocus&&!s&&Ly(a,(function(e){return e&&dy(i.errors,e)}),t?c:f.mount),e.abrupt("return",s);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(e){var t=l(l({},o),c.mount?s:{});return hy(e)?t:Iy(e)?dy(t,e):e.map((function(e){return dy(t,e)}))},F=function(e,t){return{invalid:!!dy((t||i).errors,e),isDirty:!!dy((t||i).dirtyFields,e),isTouched:!!dy((t||i).touchedFields,e),error:dy((t||i).errors,e)}},V=function(e,t,n){var r=(dy(a,e,{_f:{}})._f||{}).ref;Py(i.errors,e,l(l({},t),{},{ref:r})),v.state.next({name:e,errors:i.errors,isValid:!1}),n&&n.shouldFocus&&r&&r.focus&&r.focus()},U=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=O(e?Cy(e):f.mount);try{for(u.s();!(t=u.n()).done;){var c=t.value;f.mount.delete(c),f.array.delete(c),n.keepValue||(Zy(a,c),Zy(s,c)),!n.keepError&&Zy(i.errors,c),!n.keepDirty&&Zy(i.dirtyFields,c),!n.keepTouched&&Zy(i.touchedFields,c),!r.shouldUnregister&&!n.keepDefaultValue&&Zy(o,c)}}catch(h){u.e(h)}finally{u.f()}v.values.next({values:l({},s)}),v.state.next(l(l({},i),n.keepDirty?{isDirty:I()}:{})),!n.keepIsValid&&b()},j=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=dy(a,t),u=Vy(n.disabled);return Py(a,t,l(l({},i||{}),{},{_f:l(l({},i&&i._f?i._f:{ref:{name:t}}),{},{name:t,mount:!0},n)})),f.mount.add(t),i?u&&Py(s,t,n.disabled?void 0:dy(s,t,fm(i._f))):E(t,!0,n.value),l(l(l({},u?{disabled:n.disabled}:{}),r.progressive?{required:!!n.required,min:dm(n.min),max:dm(n.max),minLength:dm(n.minLength),maxLength:dm(n.maxLength),pattern:dm(n.pattern)}:{}),{},{name:t,onChange:L,onBlur:L,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(u){if(u){e(t,n),i=dy(a,t);var s=hy(u.value)&&u.querySelectorAll&&u.querySelectorAll("input,select,textarea")[0]||u,h=im(s),p=i._f.refs||[];if(h?p.find((function(e){return e===s})):s===i._f.ref)return;Py(a,t,{_f:l(l({},i._f),h?{refs:[].concat(d(p.filter(am)),[s],d(Array.isArray(dy(o,t))?[{}]:[])),ref:{type:s.type,name:t}}:{ref:s})}),E(t,!1,void 0,s)}else(i=dy(a,t,{}))._f&&(i._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&(!uy(f.array,t)||!c.action)&&f.unMount.add(t)}))})},z=function(){return r.shouldFocusError&&Ly(a,(function(e){return e&&dy(i.errors,e)}),f.mount)},B=function(e,t){return function(){var n=ht(ct().mark((function n(o){var u,c,f,h;return ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist()),u=cy(s),v.state.next({isSubmitting:!0}),!r.resolver){n.next=13;break}return n.next=6,_();case 6:c=n.sent,f=c.errors,h=c.values,i.errors=f,u=h,n.next=15;break;case 13:return n.next=15,T(a);case 15:if(Zy(i.errors,"root"),!xy(i.errors)){n.next=22;break}return v.state.next({errors:{}}),n.next=20,e(u,o);case 20:n.next=27;break;case 22:if(!t){n.next=25;break}return n.next=25,t(l({},i.errors),o);case 25:z(),setTimeout(z);case 27:v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:xy(i.errors),submitCount:i.submitCount+1,errors:i.errors});case 28:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},q=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=e||o,h=cy(u),d=e&&!xy(e)?h:o;if(r.keepDefaultValues||(o=u),!r.keepValues){if(r.keepDirtyValues||y){var m,g=O(f.mount);try{for(g.s();!(m=g.n()).done;){var k=m.value;dy(i.dirtyFields,k)?Py(d,k,dy(s,k)):P(k,dy(d,k))}}catch(C){g.e(C)}finally{g.f()}}else{if(ly&&hy(e)){var b,w=O(f.mount);try{for(w.s();!(b=w.n()).done;){var E=b.value,S=dy(a,E);if(S&&S._f){var x=Array.isArray(S._f.refs)?S._f.refs[0]:S._f.ref;if(zy(x)){var _=x.closest("form");if(_){_.reset();break}}}}}catch(C){w.e(C)}finally{w.f()}}a={}}s=t.shouldUnregister?r.keepDefaultValues?cy(o):{}:cy(d),v.array.next({values:l({},d)}),v.values.next({values:l({},d)})}f={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!c.mount&&n(),c.mount=!p.isValid||!!r.keepIsValid,c.watch=!!t.shouldUnregister,v.state.next({submitCount:r.keepSubmitCount?i.submitCount:0,isDirty:r.keepDirty?i.isDirty:!(!r.keepDefaultValues||nm(e,o)),isSubmitted:!!r.keepIsSubmitted&&i.isSubmitted,dirtyFields:r.keepDirtyValues?i.dirtyFields:r.keepDefaultValues&&e?lm(o,e):{},touchedFields:r.keepTouched?i.touchedFields:{},errors:r.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},H=function(e,t){return q(jy(e)?e(s):e,t)};return{control:{register:j,unregister:U,getFieldState:F,handleSubmit:B,setError:V,_executeSchema:_,_getWatch:A,_getDirty:I,_updateValid:b,_removeUnmounted:function(){var e,t=O(f.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=dy(a,n);r&&(r._f.refs?r._f.refs.every((function(e){return!am(e)})):!am(r._f.ref))&&U(n)}}catch(i){t.e(i)}finally{t.f()}f.unMount=new Set},_updateFieldArray:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,u=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(r&&n){if(c.action=!0,l&&Array.isArray(dy(a,e))){var f=n(dy(a,e),r.argA,r.argB);u&&Py(a,e,f)}if(l&&Array.isArray(dy(i.errors,e))){var h=n(dy(i.errors,e),r.argA,r.argB);u&&Py(i.errors,e,h),mm(i.errors,e)}if(p.touchedFields&&l&&Array.isArray(dy(i.touchedFields,e))){var d=n(dy(i.touchedFields,e),r.argA,r.argB);u&&Py(i.touchedFields,e,d)}p.dirtyFields&&(i.dirtyFields=lm(o,s)),v.state.next({name:e,isDirty:I(e,t),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else Py(s,e,t)},_getFieldArray:function(e){return fy(dy(c.mount?s:o,e,t.shouldUnregister?dy(o,e,[]):[]))},_reset:q,_resetDefaultValues:function(){return jy(r.defaultValues)&&r.defaultValues().then((function(e){H(e,r.resetOptions),v.state.next({isLoading:!1})}))},_updateFormState:function(e){i=l(l({},i),e)},_subjects:v,_proxyFormState:p,get _fields(){return a},get _formValues(){return s},get _state(){return c},set _state(e){c=e},get _defaultValues(){return o},get _names(){return f},set _names(e){f=e},get _formState(){return i},set _formState(e){i=e},get _options(){return r},set _options(e){r=l(l({},r),e)}},trigger:R,register:j,handleSubmit:B,watch:function(e,t){return jy(e)?v.values.subscribe({next:function(n){return e(A(void 0,t),n)}}):A(e,t,!0)},setValue:P,getValues:M,reset:H,resetField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};dy(a,e)&&(hy(t.defaultValue)?P(e,dy(o,e)):(P(e,t.defaultValue),Py(o,e,t.defaultValue)),t.keepTouched||Zy(i.touchedFields,e),t.keepDirty||(Zy(i.dirtyFields,e),i.isDirty=t.defaultValue?I(e,dy(o,e)):I()),t.keepError||(Zy(i.errors,e),p.isValid&&b()),v.state.next(l({},i)))},clearErrors:function(e){e&&Cy(e).forEach((function(e){return Zy(i.errors,e)})),v.state.next({errors:e?i.errors:{}})},unregister:U,setError:V,setFocus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=dy(a,e),r=n&&n._f;if(r){var i=r.refs?r.refs[0]:r.ref;i.focus&&(i.focus(),t.shouldSelect&&i.select())}},getFieldState:F}}var bm=function(){var t=y((0,e.useState)(""),2),n=t[0],r=t[1],i=(0,e.useContext)(k),a=i.cart,o=i.clearCart,u=i.precioTotal,s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.useRef(),r=e.useRef(),i=y(e.useState({isDirty:!1,isValidating:!1,isLoading:jy(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:jy(t.defaultValues)?void 0:t.defaultValues}),2),a=i[0],o=i[1];n.current||(n.current=l(l({},km(t,(function(){return o((function(e){return l({},e)}))}))),{},{formState:a}));var u=n.current.control;return u._options=t,Ty({subject:u._subjects.state,next:function(e){_y(e,u._proxyFormState,u._updateFormState,!0)&&o(l({},u._formState))}}),e.useEffect((function(){t.values&&!nm(t.values,r.current)?(u._reset(t.values,u._options.resetOptions),r.current=t.values):u._resetDefaultValues()}),[t.values,u]),e.useEffect((function(){u._state.mount||(u._updateValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next(l({},u._formState))),u._removeUnmounted()})),n.current.formState=Sy(a,u),n.current}(),c=s.register,f=s.handleSubmit;return n?(0,g.jsxs)("div",{className:"container",children:[(0,g.jsx)("h1",{children:"Muchas gracias por tu compra"}),(0,g.jsxs)("p",{children:["Tu numero de pedido es: ",n]})]}):(0,g.jsxs)("div",{className:"container",children:[(0,g.jsx)("h1",{children:"Finalizar compra"}),(0,g.jsxs)("form",{className:"formulario",onSubmit:f((function(e){var t={cliente:e,productos:a,total:u()};console.log(t),function(e,t){var n=qp(e.firestore,Zp),r=Yp(e),i=Mv(e.converter,t);return qv(n,[hv(fv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,dc.exists(!1))]).then((function(){return r}))}(Xp(Kv,"pedidos"),t).then((function(e){r(e.id),o()}))})),children:[(0,g.jsx)("input",l({type:"text",placeholder:"Ingresa tu nombre"},c("nombre"))),(0,g.jsx)("input",l({type:"email",placeholder:"Ingresa tu e-mail"},c("email"))),(0,g.jsx)("input",l({type:"phone",placeholder:"Ingresa tu tel\xe9fono"},c("telefono"))),(0,g.jsx)("button",{className:"enviar",type:"submit",children:"Comprar"})]})]})};var wm=function(){return(0,g.jsx)("div",{className:"App",children:(0,g.jsxs)(Je,{basename:"/Pet-Paradise-react-final",children:[" ",(0,g.jsxs)(w,{children:[(0,g.jsx)(ot,{}),(0,g.jsxs)(He,{children:[(0,g.jsx)(Be,{path:"/",element:(0,g.jsx)(Wv,{})}),(0,g.jsx)(Be,{path:"/productos/:categoria",element:(0,g.jsx)(Wv,{})}),(0,g.jsx)(Be,{path:"/item/:itemId",element:(0,g.jsx)($v,{})}),(0,g.jsx)(Be,{path:"/cart",element:(0,g.jsx)(Xv,{})}),(0,g.jsx)(Be,{path:"/checkout",element:(0,g.jsx)(bm,{})}),(0,g.jsx)(Be,{path:"*",element:(0,g.jsx)("h1",{children:" P\xe1gina no encontrada "})})]})]})]})})};r.createRoot(document.getElementById("root")).render((0,g.jsx)(e.StrictMode,{children:(0,g.jsx)(wm,{})}))}()}();
//# sourceMappingURL=main.c7a055b2.js.map